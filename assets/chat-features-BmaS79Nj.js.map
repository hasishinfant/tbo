{"version":3,"file":"chat-features-BmaS79Nj.js","sources":["../../src/utils/formatters.ts","../../src/components/chat/MessageBubble.tsx","../../src/components/chat/ChatContainer.tsx","../../src/components/chat/ChatInput.tsx","../../src/components/chat/QuickSuggestions.tsx"],"sourcesContent":["// Formatting utility functions\nexport const formatters = {\n  // Format currency\n  formatCurrency(amount: number, currency: string = 'USD'): string {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency,\n    }).format(amount);\n  },\n\n  // Format currency range\n  formatCurrencyRange(min: number, max: number, currency: string = 'USD'): string {\n    return `${formatters.formatCurrency(min, currency)} - ${formatters.formatCurrency(max, currency)}`;\n  },\n\n  // Format time for chat messages\n  formatTime(date: Date): string {\n    const now = new Date();\n    const messageDate = new Date(date);\n    const diffInMinutes = Math.floor((now.getTime() - messageDate.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 1) {\n      return 'Just now';\n    } else if (diffInMinutes < 60) {\n      return `${diffInMinutes}m ago`;\n    } else if (diffInMinutes < 1440) { // Less than 24 hours\n      const hours = Math.floor(diffInMinutes / 60);\n      return `${hours}h ago`;\n    } else {\n      // More than 24 hours, show time\n      return messageDate.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n      });\n    }\n  },\n\n  // Capitalize first letter\n  capitalize(text: string): string {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n  },\n\n  // Format budget level for display\n  formatBudgetLevel(budget: string): string {\n    const budgetMap: Record<string, string> = {\n      low: 'Budget-Friendly',\n      medium: 'Mid-Range',\n      luxury: 'Luxury',\n    };\n    return budgetMap[budget] || formatters.capitalize(budget);\n  },\n\n  // Format interests array for display\n  formatInterests(interests: string[]): string {\n    if (interests.length === 0) return 'No specific interests';\n    if (interests.length === 1) return formatters.capitalize(interests[0]);\n    if (interests.length === 2) return interests.map(formatters.capitalize).join(' and ');\n    \n    const lastInterest = interests[interests.length - 1];\n    const otherInterests = interests.slice(0, -1);\n    return otherInterests.map(formatters.capitalize).join(', ') + ', and ' + formatters.capitalize(lastInterest);\n  },\n\n  // Truncate text with ellipsis\n  truncateText(text: string, maxLength: number): string {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength - 3) + '...';\n  },\n\n  // Format phone number\n  formatPhoneNumber(phone: string): string {\n    // Remove all non-digit characters\n    const cleaned = phone.replace(/\\D/g, '');\n    \n    // Format as (XXX) XXX-XXXX for US numbers\n    if (cleaned.length === 10) {\n      return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\n    }\n    \n    // Return original if not a standard format\n    return phone;\n  },\n\n  // Format file size\n  formatFileSize(bytes: number): string {\n    if (bytes === 0) return '0 Bytes';\n    \n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  },\n};","import React from 'react';\nimport type { Message } from '../../types/api';\nimport { formatters } from '../../utils/formatters';\nimport './MessageBubble.css';\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nconst MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const { content, sender, timestamp } = message;\n  \n  return (\n    <div className={`message-bubble ${sender === 'user' ? 'user-message' : 'assistant-message'}`}>\n      <div className=\"message-content\">\n        {content}\n      </div>\n      <div className=\"message-timestamp\">\n        {formatters.formatTime(timestamp)}\n      </div>\n    </div>\n  );\n};\n\nexport default MessageBubble;","import React, { useEffect, useRef } from 'react';\nimport type { Message } from '../../types/api';\nimport MessageBubble from './MessageBubble';\nimport './ChatContainer.css';\n\ninterface ChatContainerProps {\n  messages: Message[];\n  isLoading?: boolean;\n}\n\nconst ChatContainer: React.FC<ChatContainerProps> = ({ messages, isLoading = false }) => {\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to latest messages\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Group messages by date for better organization\n  const groupMessagesByDate = (messages: Message[]) => {\n    const groups: { [key: string]: Message[] } = {};\n    \n    messages.forEach(message => {\n      const dateKey = new Date(message.timestamp).toDateString();\n      if (!groups[dateKey]) {\n        groups[dateKey] = [];\n      }\n      groups[dateKey].push(message);\n    });\n    \n    return groups;\n  };\n\n  const messageGroups = groupMessagesByDate(messages);\n\n  const formatDateHeader = (dateString: string) => {\n    const date = new Date(dateString);\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    if (date.toDateString() === today.toDateString()) {\n      return 'Today';\n    } else if (date.toDateString() === yesterday.toDateString()) {\n      return 'Yesterday';\n    } else {\n      return date.toLocaleDateString('en-US', { \n        weekday: 'long', \n        year: 'numeric', \n        month: 'long', \n        day: 'numeric' \n      });\n    }\n  };\n\n  return (\n    <div className=\"chat-container\" ref={containerRef}>\n      <div className=\"messages-wrapper\">\n        {Object.keys(messageGroups).length === 0 ? (\n          <div className=\"empty-chat\">\n            <div className=\"empty-chat-icon\">ðŸ’¬</div>\n            <h3>Start a conversation</h3>\n            <p>Ask me anything about your travel plans!</p>\n          </div>\n        ) : (\n          Object.entries(messageGroups).map(([dateString, groupMessages]) => (\n            <div key={dateString} className=\"message-group\">\n              <div className=\"date-header\">\n                {formatDateHeader(dateString)}\n              </div>\n              <div className=\"messages-list\">\n                {groupMessages.map((message) => (\n                  <MessageBubble key={message.id} message={message} />\n                ))}\n              </div>\n            </div>\n          ))\n        )}\n        \n        {isLoading && (\n          <div className=\"loading-message\">\n            <div className=\"typing-indicator\">\n              <div className=\"typing-dot\"></div>\n              <div className=\"typing-dot\"></div>\n              <div className=\"typing-dot\"></div>\n            </div>\n            <span className=\"loading-text\">Assistant is typing...</span>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatContainer;","import React from 'react';\nimport { Button, Icon } from '@/components/shared';\nimport './ChatInput.css';\n\ninterface ChatInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSubmit: (e: React.FormEvent) => void;\n  disabled?: boolean;\n  placeholder?: string;\n  maxLength?: number;\n}\n\nconst ChatInput: React.FC<ChatInputProps> = ({\n  value,\n  onChange,\n  onSubmit,\n  disabled = false,\n  placeholder = \"Type your message...\",\n  maxLength = 500\n}) => {\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.value);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      onSubmit(e as any);\n    }\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"chat-input-form\">\n      <div className=\"chat-input-container\">\n        <div className=\"chat-input-wrapper\">\n          <Icon name=\"chat\" size=\"sm\" className=\"chat-input-icon\" />\n          <input\n            type=\"text\"\n            value={value}\n            onChange={handleInputChange}\n            onKeyPress={handleKeyPress}\n            placeholder={placeholder}\n            disabled={disabled}\n            maxLength={maxLength}\n            className=\"chat-input-field\"\n          />\n        </div>\n        <Button\n          type=\"submit\"\n          disabled={!value.trim() || disabled}\n          variant=\"primary\"\n          icon=\"send\"\n          className=\"chat-send-button\"\n          size=\"md\"\n        >\n          Send\n        </Button>\n      </div>\n      {maxLength && (\n        <div className=\"character-count\">\n          <Icon name=\"info\" size=\"xs\" />\n          {value.length}/{maxLength}\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default ChatInput;","import React from 'react';\nimport { Icon } from '@/components/shared';\nimport './QuickSuggestions.css';\n\ninterface QuickSuggestionsProps {\n  suggestions: string[];\n  onSuggestionClick: (suggestion: string) => void;\n  disabled?: boolean;\n}\n\n// Map suggestions to appropriate icons\nconst getSuggestionIcon = (suggestion: string): 'food' | 'map' | 'star' | 'nature' | 'culture' | 'question' => {\n  const lowerSuggestion = suggestion.toLowerCase();\n  if (lowerSuggestion.includes('eat') || lowerSuggestion.includes('food')) return 'food';\n  if (lowerSuggestion.includes('around') || lowerSuggestion.includes('transport')) return 'map';\n  if (lowerSuggestion.includes('gem') || lowerSuggestion.includes('attraction')) return 'star';\n  if (lowerSuggestion.includes('weather') || lowerSuggestion.includes('climate')) return 'nature';\n  if (lowerSuggestion.includes('custom') || lowerSuggestion.includes('culture')) return 'culture';\n  return 'question';\n};\n\nconst QuickSuggestions: React.FC<QuickSuggestionsProps> = ({\n  suggestions,\n  onSuggestionClick,\n  disabled = false\n}) => {\n  if (!suggestions || suggestions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"quick-suggestions\">\n      <div className=\"suggestions-header\">\n        <Icon name=\"assistant\" size=\"sm\" />\n        <span className=\"suggestions-title\">Quick questions:</span>\n      </div>\n      <div className=\"suggestions-grid\">\n        {suggestions.map((suggestion, index) => (\n          <button\n            key={index}\n            className=\"suggestion-button\"\n            onClick={() => onSuggestionClick(suggestion)}\n            disabled={disabled}\n          >\n            <Icon \n              name={getSuggestionIcon(suggestion)} \n              size=\"sm\" \n              className=\"suggestion-icon\"\n            />\n            <span>{suggestion}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default QuickSuggestions;"],"names":["formatters","formatCurrency","amount","currency","Intl","NumberFormat","style","format","formatCurrencyRange","min","max","formatTime","date","now","Date","messageDate","diffInMinutes","Math","floor","getTime","toLocaleTimeString","hour","minute","hour12","capitalize","text","charAt","toUpperCase","slice","formatBudgetLevel","budget","low","medium","luxury","formatInterests","interests","length","map","join","lastInterest","truncateText","maxLength","substring","formatPhoneNumber","phone","cleaned","replace","formatFileSize","bytes","i","log","parseFloat","pow","toFixed","MessageBubble","message","content","sender","timestamp","jsxs","className","children","jsx","ChatContainer","messages","isLoading","messagesEndRef","useRef","containerRef","useEffect","current","scrollIntoView","behavior","messageGroups","groups","forEach","dateKey","toDateString","push","groupMessagesByDate","formatDateHeader","dateString","today","yesterday","setDate","getDate","toLocaleDateString","weekday","year","month","day","ref","Object","keys","entries","groupMessages","id","ChatInput","value","onChange","onSubmit","disabled","placeholder","Icon","name","size","type","e","target","onKeyPress","key","shiftKey","preventDefault","Button","trim","variant","icon","getSuggestionIcon","suggestion","lowerSuggestion","toLowerCase","includes","QuickSuggestions","suggestions","onSuggestionClick","index","onClick"],"mappings":"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"}