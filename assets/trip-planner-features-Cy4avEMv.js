import{j as e}from"./query-Btr53e-p.js";import{r as t,u as a}from"./router-CHgP5jf5.js";import{I as s,L as i,u as r,a as n}from"./destination-features-rioVTb2Z.js";const o=[{id:"bengaluru",name:"Bengaluru, India",description:"Silicon Valley of India with vibrant tech culture, beautiful gardens, and rich heritage",imageUrl:"https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d12.971599!2d77.594566!3f0!4f0!5f0.7820865974627469",popularityScore:88,category:["culture","technology","food","nature"],highlights:["Lalbagh Botanical Garden","Bangalore Palace","Cubbon Park","ISKCON Temple"],bestTimeToVisit:"October-February",averageCost:{low:30,medium:60,luxury:150}},{id:"tokyo",name:"Tokyo, Japan",description:"Modern metropolis blending traditional culture with cutting-edge technology",imageUrl:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d35.658581!2d139.745438!3f0!4f0!5f0.7820865974627469",popularityScore:92,category:["culture","food","technology","urban"],highlights:["Shibuya Crossing","Senso-ji Temple","Tokyo Skytree","Tsukiji Fish Market"],bestTimeToVisit:"March-May, September-November",averageCost:{low:70,medium:120,luxury:250}},{id:"bali",name:"Bali, Indonesia",description:"Tropical paradise with beautiful beaches, lush rice terraces, and rich cultural heritage",imageUrl:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d-8.409518!2d115.188919!3f0!4f0!5f0.7820865974627469",popularityScore:88,category:["nature","relaxation","culture","beach"],highlights:["Ubud Rice Terraces","Tanah Lot Temple","Seminyak Beach","Mount Batur"],bestTimeToVisit:"April-October",averageCost:{low:40,medium:80,luxury:180}},{id:"new-york",name:"New York City, USA",description:"The city that never sleeps, featuring iconic skylines, Broadway shows, and diverse neighborhoods",imageUrl:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d40.758896!2d-73.985130!3f0!4f0!5f0.7820865974627469",popularityScore:94,category:["urban","culture","entertainment","food"],highlights:["Statue of Liberty","Central Park","Times Square","Brooklyn Bridge"],bestTimeToVisit:"April-June, September-November",averageCost:{low:100,medium:200,luxury:400}},{id:"santorini",name:"Santorini, Greece",description:"Stunning Greek island with white-washed buildings, blue domes, and breathtaking sunsets",imageUrl:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d36.393156!2d25.461509!3f0!4f0!5f0.7820865974627469",popularityScore:90,category:["romance","relaxation","culture","beach"],highlights:["Oia Village","Red Beach","Akrotiri Archaeological Site","Fira Town"],bestTimeToVisit:"April-October",averageCost:{low:60,medium:120,luxury:280}},{id:"iceland",name:"Reykjavik, Iceland",description:"Land of fire and ice with dramatic landscapes, geysers, and the Northern Lights",imageUrl:"https://images.unsplash.com/photo-1504893524553-b855bce32c67?w=800&q=80",vrPreviewUrl:"https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d64.146582!2d-21.942636!3f0!4f0!5f0.7820865974627469",popularityScore:85,category:["nature","adventure","unique"],highlights:["Blue Lagoon","Golden Circle","Northern Lights","Gullfoss Waterfall"],bestTimeToVisit:"June-August (summer), September-March (Northern Lights)",averageCost:{low:90,medium:160,luxury:320}}];function l(e,t,a){const s={bengaluru:[{name:"Lalbagh Botanical Garden",category:"nature",description:"Historic botanical garden with diverse flora",time:"2 hours"},{name:"Bangalore Palace",category:"culture",description:"Tudor-style palace with beautiful architecture",time:"2 hours"},{name:"Cubbon Park",category:"nature",description:"Sprawling green space in the heart of the city",time:"1.5 hours"},{name:"ISKCON Temple",category:"culture",description:"Beautiful temple with spiritual ambiance",time:"1.5 hours"},{name:"Vidhana Soudha",category:"culture",description:"Impressive government building with neo-Dravidian architecture",time:"1 hour"},{name:"Commercial Street",category:"shopping",description:"Bustling shopping street with local goods",time:"2 hours"}],paris:[{name:"Eiffel Tower",category:"culture",description:"Iconic iron lattice tower and symbol of Paris",time:"3 hours"},{name:"Louvre Museum",category:"culture",description:"World's largest art museum",time:"4 hours"},{name:"Notre-Dame Cathedral",category:"culture",description:"Gothic cathedral masterpiece",time:"2 hours"},{name:"Montmartre District",category:"culture",description:"Artistic neighborhood with Sacr√©-C≈ìur",time:"3 hours"},{name:"Seine River Cruise",category:"relaxation",description:"Scenic boat tour along the Seine",time:"1.5 hours"},{name:"Champs-√âlys√©es",category:"shopping",description:"Famous avenue for shopping and caf√©s",time:"2 hours"}],tokyo:[{name:"Shibuya Crossing",category:"urban",description:"World's busiest pedestrian crossing",time:"1 hour"},{name:"Senso-ji Temple",category:"culture",description:"Ancient Buddhist temple in Asakusa",time:"2 hours"},{name:"Tokyo Skytree",category:"urban",description:"Tallest structure in Japan with panoramic views",time:"2 hours"},{name:"Tsukiji Outer Market",category:"food",description:"Fresh seafood and street food paradise",time:"2 hours"},{name:"Harajuku District",category:"culture",description:"Youth culture and fashion hub",time:"2 hours"},{name:"Imperial Palace Gardens",category:"nature",description:"Peaceful gardens in the city center",time:"2 hours"}],bali:[{name:"Ubud Rice Terraces",category:"nature",description:"Stunning terraced rice fields",time:"3 hours"},{name:"Tanah Lot Temple",category:"culture",description:"Sea temple on a rock formation",time:"2 hours"},{name:"Seminyak Beach",category:"beach",description:"Beautiful beach with sunset views",time:"4 hours"},{name:"Sacred Monkey Forest",category:"nature",description:"Nature reserve with playful monkeys",time:"1.5 hours"},{name:"Tegallalang Rice Terraces",category:"nature",description:"Instagram-famous rice terraces",time:"2 hours"},{name:"Ubud Art Market",category:"shopping",description:"Traditional crafts and souvenirs",time:"2 hours"}]};return(s[e.id]||s.paris).filter(e=>a.some(t=>e.category.includes(t))||"culture"===e.category).slice(2*t,2*t+2).map(e=>({name:e.name,description:e.description,estimatedTime:e.time,category:e.category}))}function c(e,t){const a={bengaluru:{luxury:[{name:"Karavalli",type:"Coastal Indian",description:"Award-winning coastal cuisine in elegant setting",priceRange:"$$$"},{name:"Rim Naam",type:"Thai",description:"Authentic Thai cuisine in beautiful ambiance",priceRange:"$$$"}],medium:[{name:"MTR",type:"South Indian",description:"Legendary restaurant serving authentic Karnataka cuisine",priceRange:"$$"},{name:"Vidyarthi Bhavan",type:"South Indian",description:"Famous for crispy dosas since 1943",priceRange:"$$"}],low:[{name:"CTR (Central Tiffin Room)",type:"South Indian",description:"Iconic spot for benne dosa",priceRange:"$"},{name:"Veena Stores",type:"Snacks",description:"Popular for khara bath and kesari bath",priceRange:"$"}]},paris:{luxury:[{name:"Le Jules Verne",type:"Fine Dining",description:"Michelin-starred restaurant in the Eiffel Tower",priceRange:"$$$"},{name:"L'Ami Jean",type:"Bistro",description:"Traditional French bistro with modern twist",priceRange:"$$"}],medium:[{name:"Breizh Caf√©",type:"Cr√™perie",description:"Modern take on traditional Breton cr√™pes",priceRange:"$$"},{name:"Du Pain et des Id√©es",type:"Bakery",description:"Artisanal bakery with exceptional pastries",priceRange:"$"}],low:[{name:"L'As du Fallafel",type:"Street Food",description:"Famous falafel in the Marais district",priceRange:"$"},{name:"Local Boulangerie",type:"Bakery",description:"Fresh croissants and coffee",priceRange:"$"}]},tokyo:{luxury:[{name:"Sukiyabashi Jiro",type:"Sushi",description:"World-renowned sushi master's restaurant",priceRange:"$$$"},{name:"Narisawa",type:"Fine Dining",description:"Innovative Japanese cuisine",priceRange:"$$$"}],medium:[{name:"Ramen Yokocho",type:"Ramen",description:"Traditional ramen alley experience",priceRange:"$$"},{name:"Izakaya Torikizoku",type:"Izakaya",description:"Casual Japanese pub with yakitori",priceRange:"$$"}],low:[{name:"Conveyor Belt Sushi",type:"Sushi",description:"Affordable sushi train experience",priceRange:"$"},{name:"Street Food Stalls",type:"Street Food",description:"Takoyaki and other local snacks",priceRange:"$"}]},bali:{luxury:[{name:"Mozaic Restaurant",type:"Fine Dining",description:"French-Indonesian fusion cuisine",priceRange:"$$$"},{name:"Sarong Restaurant",type:"Asian Fusion",description:"Upscale Asian dining experience",priceRange:"$$"}],medium:[{name:"Warung Babi Guling",type:"Local",description:"Traditional Balinese roasted pork",priceRange:"$$"},{name:"Bebek Bengil",type:"Local",description:"Famous crispy duck restaurant",priceRange:"$$"}],low:[{name:"Local Warungs",type:"Street Food",description:"Authentic Indonesian street food",priceRange:"$"},{name:"Night Market",type:"Street Food",description:"Variety of local dishes and snacks",priceRange:"$"}]}},s=a[e.id]||a.paris;return s[t]||s.medium}function d(e,t,a,s){const i=["Start early to avoid crowds at popular attractions","Wear comfortable walking shoes","Bring a portable charger for your phone","Stay hydrated throughout the day","Keep copies of important documents"],r={paris:["Learn basic French phrases - locals appreciate the effort","Many museums are free on the first Sunday of each month","Validate your metro tickets to avoid fines","Tipping 10% is standard in restaurants"],tokyo:["Download a translation app for easier communication","Bow slightly when greeting people","Remove shoes when entering homes or certain restaurants","Cash is still king - many places don't accept cards"],bali:["Dress modestly when visiting temples","Bargaining is expected at markets","Be cautious with tap water - stick to bottled water","Respect local customs and ceremonies"]},n=r[e.id]||r.paris,o={food:["Try local specialties and street food","Ask locals for restaurant recommendations"],culture:["Visit museums and historical sites early in the day","Respect local customs and dress codes"],nature:["Bring sunscreen and insect repellent","Check weather conditions before outdoor activities"],adventure:["Book adventure activities in advance","Ensure you have proper insurance coverage"],shopping:["Keep receipts for tax refunds","Learn basic bargaining phrases"]},l=[i[t%i.length],n[t%n.length],{low:["Look for free walking tours","Eat at local markets for authentic, cheap meals","Use public transportation"],medium:["Book attractions in advance for better prices","Consider guided tours for deeper insights"],luxury:["Make reservations at high-end restaurants well in advance","Consider private tours for personalized experiences"]}[a][0]];return s.forEach(e=>{o[e]&&l.push(o[e][0])}),l.slice(0,3)}function u(e){const t=e.toLowerCase();let a="",s=[];if(t.includes("food")||t.includes("eat")||t.includes("restaurant"))a="For food recommendations, I'd suggest trying the local specialties! Each destination has unique flavors - from French pastries in Paris to fresh sushi in Tokyo. Would you like specific restaurant suggestions based on your budget?",s=["Recommend budget-friendly restaurants","What are the local specialties?","Any food markets nearby?"];else if(t.includes("transport")||t.includes("get around")||t.includes("travel"))a="Getting around is easy with local transportation! Most cities have efficient public transit systems. I can help you with metro maps, taxi apps, or walking routes to your destinations.",s=["Show me public transport options","How much do taxis cost?","Is it walkable?"];else if(t.includes("hidden")||t.includes("secret")||t.includes("gems"))a="I love sharing hidden gems! There are amazing local spots that most tourists miss - from secret viewpoints to neighborhood caf√©s where locals hang out. What type of hidden gems interest you most?",s=["Secret viewpoints","Local neighborhood spots","Off-the-beaten-path attractions"];else if(t.includes("weather")||t.includes("climate"))a="Weather can really impact your trip! I can help you prepare with current conditions, seasonal patterns, and what to pack. The best time to visit varies by destination and your preferred activities.",s=["What should I pack?","Best time to visit?","Current weather conditions"];else if(t.includes("culture")||t.includes("customs")||t.includes("etiquette"))a="Understanding local culture enhances your travel experience! Each destination has unique customs, from greeting styles to dining etiquette. I can share important cultural tips to help you connect with locals respectfully.",s=["Greeting customs","Dining etiquette","What to avoid doing"];else if(t.includes("attraction")||t.includes("see")||t.includes("visit"))a="There are so many amazing attractions to explore! From world-famous landmarks to local favorites, I can help you prioritize based on your interests and available time. What type of attractions interest you most?",s=["Must-see landmarks","Museums and galleries","Outdoor activities"];else if(t.includes("budget")||t.includes("cost")||t.includes("price"))a="Budget planning is crucial for a great trip! Costs vary significantly by destination and travel style. I can help you estimate expenses for accommodation, food, transportation, and activities based on your preferences.",s=["Daily budget estimates","Money-saving tips","Free activities"];else if(t.includes("safety")||t.includes("safe")||t.includes("security"))a="Your safety is important! I can share current safety information, common scams to avoid, emergency contacts, and general precautions for your destination. Most popular tourist areas are quite safe with basic precautions.",s=["Emergency contacts","Common scams to avoid","Safe neighborhoods"];else{const e=["I'm here to help make your trip amazing! What specific aspect of your travel would you like assistance with?","Great question! I have lots of local insights to share. What would you like to know more about?","I'd be happy to help you with your travel plans! Could you tell me more about what you're looking for?","That's an interesting question! Let me provide you with some helpful information and suggestions."];a=e[Math.floor(Math.random()*e.length)],s=["Tell me about local food","How do I get around?","What are the must-see attractions?","Any cultural tips?"]}return{success:!0,data:{messageId:`msg-${Date.now()}`,content:a,suggestions:s,timestamp:new Date},timestamp:new Date}}const m=[{value:"food",label:"Food & Dining",icon:"üçΩÔ∏è",iconName:"food"},{value:"adventure",label:"Adventure",icon:"üèîÔ∏è",iconName:"adventure"},{value:"culture",label:"Culture & History",icon:"üèõÔ∏è",iconName:"culture"},{value:"nature",label:"Nature & Wildlife",icon:"üåø",iconName:"nature"},{value:"shopping",label:"Shopping",icon:"üõçÔ∏è",iconName:"shopping"}],h=[{value:"low",label:"Budget-Friendly",description:"Affordable options and local experiences"},{value:"medium",label:"Mid-Range",description:"Comfortable accommodations and activities"},{value:"luxury",label:"Luxury",description:"Premium experiences and high-end accommodations"}],p=[{value:"medical",label:"Medical Emergency",icon:"üè•",iconName:"medical",color:"#dc3545",description:"Get immediate medical assistance"},{value:"passport",label:"Lost Passport",icon:"üìò",iconName:"passport",color:"#fd7e14",description:"Report lost travel documents"},{value:"hotel",label:"Hotel Issue",icon:"üè®",iconName:"hotel",color:"#6f42c1",description:"Resolve accommodation problems"},{value:"local-help",label:"Need Local Help",icon:"üÜò",iconName:"help",color:"#20c997",description:"Get local assistance and guidance"}],g=[{id:"paris",name:"Paris, France",description:"The City of Light with iconic landmarks, world-class museums, and romantic atmosphere",imageUrl:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=800",vrPreviewUrl:"https://example.com/vr/paris",popularityScore:95,category:["culture","romance","food","art"]},{id:"tokyo",name:"Tokyo, Japan",description:"Modern metropolis blending traditional culture with cutting-edge technology",imageUrl:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800",vrPreviewUrl:"https://example.com/vr/tokyo",popularityScore:92,category:["culture","food","technology","urban"]},{id:"bali",name:"Bali, Indonesia",description:"Tropical paradise with beautiful beaches, lush rice terraces, and rich cultural heritage",imageUrl:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=800",vrPreviewUrl:"https://example.com/vr/bali",popularityScore:88,category:["nature","relaxation","culture","beach"]},{id:"new-york",name:"New York City, USA",description:"The city that never sleeps, featuring iconic skylines, Broadway shows, and diverse neighborhoods",imageUrl:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800",vrPreviewUrl:"https://example.com/vr/new-york",popularityScore:94,category:["urban","culture","entertainment","food"]},{id:"santorini",name:"Santorini, Greece",description:"Stunning Greek island with white-washed buildings, blue domes, and breathtaking sunsets",imageUrl:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=800",vrPreviewUrl:"https://example.com/vr/santorini",popularityScore:90,category:["romance","relaxation","culture","beach"]},{id:"iceland",name:"Reykjavik, Iceland",description:"Land of fire and ice with dramatic landscapes, geysers, and the Northern Lights",imageUrl:"https://images.unsplash.com/photo-1539066834-3c0b2b2b3c3c?w=800",vrPreviewUrl:"https://example.com/vr/iceland",popularityScore:85,category:["nature","adventure","unique"]}],f=1,y=30,v=({value:a,onChange:s,error:i})=>{const[r,n]=t.useState(!1),[o,l]=t.useState(""),[c,d]=t.useState(g),u=t.useRef(null);t.useEffect(()=>{const e=g.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase()));d(e)},[o]),t.useEffect(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const m=g.find(e=>e.id===a);return e.jsxs("div",{className:"destination-dropdown",ref:u,children:[e.jsx("label",{htmlFor:"destination",className:"form-label",children:"Destination *"}),e.jsxs("div",{className:"dropdown-container",children:[e.jsxs("button",{type:"button",className:"dropdown-trigger "+(i?"error":""),onClick:()=>n(!r),"aria-expanded":r,"aria-haspopup":"listbox",children:[e.jsx("span",{className:"dropdown-value",children:m?m.name:"Select a destination"}),e.jsx("span",{className:"dropdown-arrow "+(r?"open":""),children:"‚ñº"})]}),r&&e.jsxs("div",{className:"dropdown-menu",role:"listbox",children:[e.jsx("div",{className:"dropdown-search",children:e.jsx("input",{type:"text",placeholder:"Search destinations...",value:o,onChange:e=>l(e.target.value),className:"search-input",autoFocus:!0})}),e.jsx("div",{className:"dropdown-options",children:c.length>0?c.map(t=>e.jsxs("button",{type:"button",className:"dropdown-option "+(a===t.id?"selected":""),onClick:()=>{return e=t.id,s(e),n(!1),void l("");var e},role:"option","aria-selected":a===t.id,children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"destination-image"}),e.jsxs("div",{className:"destination-info",children:[e.jsx("div",{className:"destination-name",children:t.name}),e.jsx("div",{className:"destination-description",children:t.description})]})]},t.id)):e.jsxs("div",{className:"no-results",children:['No destinations found matching "',o,'"']})})]})]}),i&&e.jsx("div",{className:"error-message",children:i})]})},b=({value:t,onChange:a,error:s})=>e.jsxs("div",{className:"budget-selector",children:[e.jsx("label",{className:"form-label",children:"Budget Level *"}),e.jsx("div",{className:"budget-options",children:h.map(s=>e.jsxs("label",{className:"budget-option "+(t===s.value?"selected":""),children:[e.jsx("input",{type:"radio",name:"budget",value:s.value,checked:t===s.value,onChange:e=>a(e.target.value),className:"budget-radio"}),e.jsxs("div",{className:"budget-content",children:[e.jsxs("div",{className:"budget-header",children:[e.jsxs("span",{className:"budget-icon",children:["low"===s.value&&"üí∞","medium"===s.value&&"üí≥","luxury"===s.value&&"üíé"]}),e.jsx("span",{className:"budget-label",children:s.label})]}),e.jsx("div",{className:"budget-description",children:s.description})]})]},s.value))}),s&&e.jsx("div",{className:"error-message",children:s})]}),w={formatDate:e=>("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),formatDateForInput:e=>e.toISOString().split("T")[0],getDaysBetween(e,t){const a=t.getTime()-e.getTime();return Math.ceil(a/864e5)},isFutureDate(e){const t=new Date;return t.setHours(0,0,0,0),e>=t},getDateRange(e,t){const a=[],s=new Date(e);for(;s<=t;)a.push(new Date(s)),s.setDate(s.getDate()+1);return a},formatRelativeTime(e){const t=new Date,a=Math.floor((t.getTime()-e.getTime())/1e3);if(a<60)return"Just now";if(a<3600){const e=Math.floor(a/60);return`${e} minute${e>1?"s":""} ago`}if(a<86400){const e=Math.floor(a/3600);return`${e} hour${e>1?"s":""} ago`}{const e=Math.floor(a/86400);return`${e} day${e>1?"s":""} ago`}}},x=({startDate:t,endDate:a,onStartDateChange:s,onEndDateChange:i,startDateError:r,endDateError:n})=>{const o=(new Date).toISOString().split("T")[0],l=new Date;l.setFullYear(l.getFullYear()+2);const c=l.toISOString().split("T")[0];return e.jsxs("div",{className:"date-range-picker",children:[e.jsx("label",{className:"form-label",children:"Travel Dates *"}),e.jsxs("div",{className:"date-inputs",children:[e.jsxs("div",{className:"date-input-group",children:[e.jsx("label",{htmlFor:"start-date",className:"date-label",children:"Departure Date"}),e.jsx("input",{id:"start-date",type:"date",value:t?w.formatDateForInput(t):"",onChange:e=>{const t=e.target.value;if(t){const e=new Date(t);s(e),a&&e>a&&i(null)}else s(null)},min:o,max:c,className:"date-input "+(r?"error":"")}),r&&e.jsx("div",{className:"error-message",children:r})]}),e.jsx("div",{className:"date-separator",children:e.jsx("span",{className:"separator-icon",children:"‚úàÔ∏è"})}),e.jsxs("div",{className:"date-input-group",children:[e.jsx("label",{htmlFor:"end-date",className:"date-label",children:"Return Date"}),e.jsx("input",{id:"end-date",type:"date",value:a?w.formatDateForInput(a):"",onChange:e=>{const t=e.target.value;i(t?new Date(t):null)},min:(()=>{if(t){const e=new Date(t);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return o})(),max:c,className:"date-input "+(n?"error":""),disabled:!t}),n&&e.jsx("div",{className:"error-message",children:n})]})]}),t&&a&&e.jsxs("div",{className:"trip-duration",children:[e.jsx("span",{className:"duration-icon",children:"üìÖ"}),e.jsxs("span",{className:"duration-text",children:[Math.ceil((a.getTime()-t.getTime())/864e5)," days"]})]})]})},N=({value:t,onChange:a,error:i})=>e.jsxs("div",{className:"interest-selector",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(s,{name:"heart",size:"sm"}),"Travel Interests *",e.jsx("span",{className:"interest-hint",children:"Select all that apply"})]}),e.jsx("div",{className:"interest-grid",children:m.map(i=>e.jsxs("label",{className:"interest-option "+(t.includes(i.value)?"selected":""),children:[e.jsx("input",{type:"checkbox",checked:t.includes(i.value),onChange:()=>(e=>{t.includes(e)?a(t.filter(t=>t!==e)):a([...t,e])})(i.value),className:"interest-checkbox"}),e.jsxs("div",{className:"interest-content",children:[e.jsx(s,{name:i.iconName,size:"lg",className:"interest-icon"}),e.jsx("span",{className:"interest-label",children:i.label})]})]},i.value))}),t.length>0&&e.jsxs("div",{className:"selected-count",children:[e.jsx(s,{name:"check",size:"sm"}),t.length," interest",1!==t.length?"s":""," selected"]}),i&&e.jsxs("div",{className:"error-message",children:[e.jsx(s,{name:"error",size:"sm"}),i]})]}),S=({isLoading:a,stages:s=[],currentStage:r,progress:n,error:o,onRetry:l,className:c="",size:d="md",showProgress:u=!1,showStageIndicators:m=!1,overlay:h=!1,theme:p="travel"})=>{const[g,f]=t.useState(0),[y,v]=t.useState("enter");if(t.useEffect(()=>{if(!a||0===s.length)return;const e=s[g];if(e?.duration&&g<s.length-1){const t=setTimeout(()=>{f(e=>Math.min(e+1,s.length-1))},e.duration);return()=>clearTimeout(t)}},[g,s,a]),t.useEffect(()=>{if(a){v("enter");const e=setTimeout(()=>v("active"),300);return()=>clearTimeout(e)}v("exit")},[a]),t.useEffect(()=>{a&&f(0)},[a]),!a&&!o)return null;const b=()=>"number"==typeof n?n:s.length>0?(g+1)/s.length*100:void 0,w=["comprehensive-loader",`size-${d}`,`theme-${p}`,`phase-${y}`,h?"overlay":"",c].filter(Boolean).join(" ");return o?e.jsx("div",{className:`${w} error-state`,children:e.jsxs("div",{className:"error-content",children:[e.jsx("div",{className:"error-icon",children:"‚ö†Ô∏è"}),e.jsx("h3",{children:"Something went wrong"}),e.jsx("p",{className:"error-message",children:o}),l&&e.jsx("button",{className:"retry-button btn primary",onClick:l,type:"button",children:"Try Again"})]})}):e.jsxs("div",{className:w,children:[e.jsxs("div",{className:"loader-content",children:[e.jsxs("div",{className:"spinner-container",children:[e.jsx(i,{size:d,message:"",className:"main-spinner"}),"travel"===p&&e.jsx("div",{className:"travel-icon-overlay",children:e.jsx("span",{className:"travel-icon",children:"‚úàÔ∏è"})})]}),e.jsxs("div",{className:"loading-message",children:[e.jsx("p",{className:"primary-message",children:r||(s.length>0?s[g]?.message||s[0].message:"Loading...")}),m&&s.length>0&&e.jsx("div",{className:"stage-indicators",children:s.map((t,a)=>e.jsx("div",{className:"stage-indicator "+(a<g?"completed":a===g?"active":"pending"),title:t.name},a))})]}),u&&e.jsxs("div",{className:"progress-container",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${b()||0}%`,transition:"width 0.3s ease"}})}),"number"==typeof b()&&e.jsxs("span",{className:"progress-text",children:[Math.round(b()||0),"%"]})]}),s.length>0&&g<s.length&&e.jsx("div",{className:"time-estimate",children:e.jsxs("small",{children:["Step ",g+1," of ",s.length]})})]}),"travel"===p&&e.jsxs("div",{className:"background-animation",children:[e.jsx("div",{className:"floating-icon",children:"üåç"}),e.jsx("div",{className:"floating-icon",children:"üó∫Ô∏è"}),e.jsx("div",{className:"floating-icon",children:"üß≥"})]})]})},j={ITINERARY_GENERATION:[{name:"validation",message:"Validating your preferences...",duration:800},{name:"connection",message:"Connecting to AI travel planner...",duration:600},{name:"analysis",message:"Analyzing destinations and activities...",duration:1e3},{name:"generation",message:"Creating your personalized itinerary...",duration:1200},{name:"finalization",message:"Finalizing recommendations...",duration:500}]},k="travelsphere_itinerary",D={async generateItinerary(e){return this.getMockItinerary(e)},getMockItinerary:e=>function(e){const t=Math.ceil((e.endDate.getTime()-e.startDate.getTime())/864e5),a=o.find(t=>t.name.toLowerCase().includes(e.destination.toLowerCase()))||o[0];return{success:!0,data:{tripId:`trip-${Date.now()}`,itinerary:Array.from({length:Math.min(t,7)},(t,s)=>{const i=new Date(e.startDate);return i.setDate(i.getDate()+s),{dayNumber:s+1,date:i,places:l(a,s,e.interests),foodRecommendations:c(a,e.budget),travelTips:d(a,s,e.budget,e.interests)}}),estimatedCost:{min:a.averageCost[e.budget]*t*.8,max:a.averageCost[e.budget]*t*1.2,currency:"USD"},generatedAt:new Date},timestamp:new Date}}(e),addHotelBooking(e){try{const t=this.getStoredItinerary();t.hotels||(t.hotels=[]),t.hotels.push(e),this.updateItineraryDaysWithHotel(t,e),localStorage.setItem(k,JSON.stringify(t))}catch(t){throw t}},addFlightBooking(e){try{const t=this.getStoredItinerary();t.flights||(t.flights=[]),t.flights.push(e),this.updateItineraryDaysWithFlight(t,e),localStorage.setItem(k,JSON.stringify(t))}catch(t){throw t}},getStoredItinerary(){const e=localStorage.getItem(k);return e?JSON.parse(e):{flights:[],hotels:[],days:[]}},getHotelBookings(){return this.getStoredItinerary().hotels||[]},getFlightBookings(){return this.getStoredItinerary().flights||[]},updateItineraryDaysWithHotel(e,t){if(!e.days||!Array.isArray(e.days))return;const a=new Date(t.checkIn).toDateString(),s=new Date(t.checkOut).toDateString();e.days.forEach(e=>{const i=new Date(e.date).toDateString();i===a&&(e.hotels||(e.hotels=[]),e.hotels.push({...t,status:"check-in"})),i===s&&(e.hotels||(e.hotels=[]),e.hotels.push({...t,status:"check-out"}));const r=new Date(e.date).getTime(),n=new Date(t.checkIn).getTime(),o=new Date(t.checkOut).getTime();r>n&&r<o&&(e.hotels||(e.hotels=[]),e.hotels.push({...t,status:"staying"}))})},updateItineraryDaysWithFlight(e,t){if(!e.days||!Array.isArray(e.days))return;const a=new Date(t.departure.time).toDateString(),s=new Date(t.arrival.time).toDateString();e.days.forEach(e=>{const i=new Date(e.date).toDateString();i===a&&(e.flights||(e.flights=[]),e.flights.push({...t,status:"departure"})),i===s&&a!==s&&(e.flights||(e.flights=[]),e.flights.push({...t,status:"arrival"}))})},calculateItineraryConfidence(e){let t=50;return e.flights&&e.flights.length>0&&(t+=20),e.hotels&&e.hotels.length>0&&(t+=20),e.flights?.length>0&&e.hotels?.length>0&&(t+=10),Math.min(t,100)}},T=Object.freeze(Object.defineProperty({__proto__:null,itineraryService:D},Symbol.toStringTag,{value:"Module"})),R=["Validating your preferences...","Connecting to our AI travel planner...","Analyzing destinations and activities...","Creating your personalized itinerary...","Finalizing recommendations..."],I=()=>{const s=a(),[i,o]=t.useState({}),{measureAsync:l}=n(),{isLoading:c,error:d,progress:u,startLoading:m,nextStage:h,finishLoading:p,setError:g}=r(R),[w,k]=t.useState({destination:"",budget:"",startDate:null,endDate:null,interests:[]}),T=async e=>{if(e.preventDefault(),(()=>{const e={};if(w.destination||(e.destination="Please select a destination"),w.budget||(e.budget="Please select a budget level"),w.startDate){const t=new Date;t.setHours(0,0,0,0),w.startDate<t&&(e.startDate="Departure date cannot be in the past")}else e.startDate="Please select a departure date";if(w.endDate){if(w.startDate&&w.endDate<=w.startDate)e.endDate="Return date must be after departure date";else if(w.startDate){const t=Math.ceil((w.endDate.getTime()-w.startDate.getTime())/864e5);t<f?e.endDate=`Trip must be at least ${f} day(s)`:t>y&&(e.endDate=`Trip cannot exceed ${y} days`)}}else e.endDate="Please select a return date";return w.interests&&0!==w.interests.length||(e.interests="Please select at least one interest"),o(e),0===Object.keys(e).length})()){m(),o({});try{const e={destination:w.destination,budget:w.budget,startDate:w.startDate,endDate:w.endDate,interests:w.interests};await new Promise(e=>setTimeout(e,200)),h(),await new Promise(e=>setTimeout(e,150)),h(),await new Promise(e=>setTimeout(e,200)),h();const t=await l(()=>D.generateItinerary(e),"generateItinerary");if(h(),await new Promise(e=>setTimeout(e,150)),!t.success||!t.data)throw new Error("Failed to generate itinerary");sessionStorage.setItem("tripPlannerData",JSON.stringify(e)),sessionStorage.setItem("generatedItinerary",JSON.stringify(t.data)),p(),s(`/itinerary/${t.data.tripId}`)}catch(t){g("Failed to generate your itinerary. Please check your connection and try again."),o({submit:"Failed to generate your itinerary. Please check your connection and try again."})}}};return e.jsxs("div",{className:"trip-planner-form",children:[c&&e.jsx(S,{isLoading:c,stages:[...j.ITINERARY_GENERATION],progress:u,error:d||void 0,onRetry:()=>{g(null),T(new Event("submit"))},overlay:!0,size:"lg",showProgress:!0,showStageIndicators:!0,theme:"travel"}),e.jsxs("div",{className:"form-header",children:[e.jsx("h1",{children:"Plan Your Perfect Trip"}),e.jsx("p",{children:"Tell us about your travel preferences and we'll create a personalized itinerary just for you."})]}),i.submit&&e.jsxs("div",{className:"error-message submit-error",children:[e.jsx("span",{className:"error-icon",children:"‚ö†Ô∏è"}),i.submit]}),e.jsxs("form",{onSubmit:T,className:"form-container",children:[e.jsx(v,{value:w.destination,onChange:e=>k(t=>({...t,destination:e})),error:i.destination}),e.jsx(b,{value:w.budget,onChange:e=>k(t=>({...t,budget:e})),error:i.budget}),e.jsx(x,{startDate:w.startDate,endDate:w.endDate,onStartDateChange:e=>k(t=>({...t,startDate:e})),onEndDateChange:e=>k(t=>({...t,endDate:e})),startDateError:i.startDate,endDateError:i.endDate}),e.jsx(N,{value:w.interests,onChange:e=>k(t=>({...t,interests:e})),error:i.interests}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{k({destination:"",budget:"",startDate:null,endDate:null,interests:[]}),o({})},className:"btn secondary",disabled:c,children:"Reset Form"}),e.jsx("button",{type:"submit",className:"btn primary",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading-spinner-small"}),"Generating Itinerary..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚úàÔ∏è"}),"Create My Itinerary"]})})]})]})]})};export{p as E,o as M,I as T,w as d,u as g,T as i};
//# sourceMappingURL=trip-planner-features-Cy4avEMv.js.map
