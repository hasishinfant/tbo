import{j as e}from"./query-Btr53e-p.js";import{r as s}from"./router-CHgP5jf5.js";import{I as t,B as a}from"./destination-features-rioVTb2Z.js";const n={formatCurrency:(e,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(e),formatCurrencyRange:(e,s,t="USD")=>`${n.formatCurrency(e,t)} - ${n.formatCurrency(s,t)}`,formatTime(e){const s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/6e4);if(a<1)return"Just now";if(a<60)return`${a}m ago`;if(a<1440){return`${Math.floor(a/60)}h ago`}return t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),formatBudgetLevel:e=>({low:"Budget-Friendly",medium:"Mid-Range",luxury:"Luxury"}[e]||n.capitalize(e)),formatInterests(e){if(0===e.length)return"No specific interests";if(1===e.length)return n.capitalize(e[0]);if(2===e.length)return e.map(n.capitalize).join(" and ");const s=e[e.length-1];return e.slice(0,-1).map(n.capitalize).join(", ")+", and "+n.capitalize(s)},truncateText:(e,s)=>e.length<=s?e:e.substring(0,s-3)+"...",formatPhoneNumber(e){const s=e.replace(/\D/g,"");return 10===s.length?`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6)}`:e},formatFileSize(e){if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}},i=({message:s})=>{const{content:t,sender:a,timestamp:i}=s;return e.jsxs("div",{className:"message-bubble "+("user"===a?"user-message":"assistant-message"),children:[e.jsx("div",{className:"message-content",children:t}),e.jsx("div",{className:"message-timestamp",children:n.formatTime(i)})]})},r=({messages:t,isLoading:a=!1})=>{const n=s.useRef(null),r=s.useRef(null);s.useEffect(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[t]);const c=(e=>{const s={};return e.forEach(e=>{const t=new Date(e.timestamp).toDateString();s[t]||(s[t]=[]),s[t].push(e)}),s})(t),l=e=>{const s=new Date(e),t=new Date,a=new Date(t);return a.setDate(a.getDate()-1),s.toDateString()===t.toDateString()?"Today":s.toDateString()===a.toDateString()?"Yesterday":s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return e.jsx("div",{className:"chat-container",ref:r,children:e.jsxs("div",{className:"messages-wrapper",children:[0===Object.keys(c).length?e.jsxs("div",{className:"empty-chat",children:[e.jsx("div",{className:"empty-chat-icon",children:"ðŸ’¬"}),e.jsx("h3",{children:"Start a conversation"}),e.jsx("p",{children:"Ask me anything about your travel plans!"})]}):Object.entries(c).map(([s,t])=>e.jsxs("div",{className:"message-group",children:[e.jsx("div",{className:"date-header",children:l(s)}),e.jsx("div",{className:"messages-list",children:t.map(s=>e.jsx(i,{message:s},s.id))})]},s)),a&&e.jsxs("div",{className:"loading-message",children:[e.jsxs("div",{className:"typing-indicator",children:[e.jsx("div",{className:"typing-dot"}),e.jsx("div",{className:"typing-dot"}),e.jsx("div",{className:"typing-dot"})]}),e.jsx("span",{className:"loading-text",children:"Assistant is typing..."})]}),e.jsx("div",{ref:n})]})})},c=({value:s,onChange:n,onSubmit:i,disabled:r=!1,placeholder:c="Type your message...",maxLength:l=500})=>e.jsxs("form",{onSubmit:i,className:"chat-input-form",children:[e.jsxs("div",{className:"chat-input-container",children:[e.jsxs("div",{className:"chat-input-wrapper",children:[e.jsx(t,{name:"chat",size:"sm",className:"chat-input-icon"}),e.jsx("input",{type:"text",value:s,onChange:e=>{n(e.target.value)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),i(e))},placeholder:c,disabled:r,maxLength:l,className:"chat-input-field"})]}),e.jsx(a,{type:"submit",disabled:!s.trim()||r,variant:"primary",icon:"send",className:"chat-send-button",size:"md",children:"Send"})]}),l&&e.jsxs("div",{className:"character-count",children:[e.jsx(t,{name:"info",size:"xs"}),s.length,"/",l]})]}),l=e=>{const s=e.toLowerCase();return s.includes("eat")||s.includes("food")?"food":s.includes("around")||s.includes("transport")?"map":s.includes("gem")||s.includes("attraction")?"star":s.includes("weather")||s.includes("climate")?"nature":s.includes("custom")||s.includes("culture")?"culture":"question"},o=({suggestions:s,onSuggestionClick:a,disabled:n=!1})=>s&&0!==s.length?e.jsxs("div",{className:"quick-suggestions",children:[e.jsxs("div",{className:"suggestions-header",children:[e.jsx(t,{name:"assistant",size:"sm"}),e.jsx("span",{className:"suggestions-title",children:"Quick questions:"})]}),e.jsx("div",{className:"suggestions-grid",children:s.map((s,i)=>e.jsxs("button",{className:"suggestion-button",onClick:()=>a(s),disabled:n,children:[e.jsx(t,{name:l(s),size:"sm",className:"suggestion-icon"}),e.jsx("span",{children:s})]},i))})]}):null;export{r as C,o as Q,c as a};
//# sourceMappingURL=chat-features-BmaS79Nj.js.map
