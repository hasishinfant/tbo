{"version":3,"file":"trip-planner-features-BYcYA57z.js","sources":["../../src/services/mockDataService.ts","../../src/utils/constants.ts","../../src/components/trip-planner/DestinationDropdown.tsx","../../src/components/trip-planner/BudgetSelector.tsx","../../src/utils/dateUtils.ts","../../src/components/trip-planner/DateRangePicker.tsx","../../src/components/trip-planner/InterestSelector.tsx","../../src/components/shared/ComprehensiveLoader.tsx","../../src/services/itineraryService.ts","../../src/components/trip-planner/TripPlannerForm.tsx"],"sourcesContent":["// Comprehensive mock data service for API fallbacks\nimport type { TripPlannerFormData } from '@/types/trip';\nimport type { ItineraryResponse, ChatResponse, EmergencyResponse, EmergencyType, ApiResponse } from '@/types/api';\n\n// Enhanced destination mock data\nexport const MOCK_DESTINATIONS = [\n  {\n    id: 'bengaluru',\n    name: 'Bengaluru, India',\n    description: 'Silicon Valley of India with vibrant tech culture, beautiful gardens, and rich heritage',\n    imageUrl: 'https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d12.971599!2d77.594566!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 88,\n    category: ['culture', 'technology', 'food', 'nature'],\n    highlights: ['Lalbagh Botanical Garden', 'Bangalore Palace', 'Cubbon Park', 'ISKCON Temple'],\n    bestTimeToVisit: 'October-February',\n    averageCost: { low: 30, medium: 60, luxury: 150 },\n  },\n  {\n    id: 'tokyo',\n    name: 'Tokyo, Japan',\n    description: 'Modern metropolis blending traditional culture with cutting-edge technology',\n    imageUrl: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d35.658581!2d139.745438!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 92,\n    category: ['culture', 'food', 'technology', 'urban'],\n    highlights: ['Shibuya Crossing', 'Senso-ji Temple', 'Tokyo Skytree', 'Tsukiji Fish Market'],\n    bestTimeToVisit: 'March-May, September-November',\n    averageCost: { low: 70, medium: 120, luxury: 250 },\n  },\n  {\n    id: 'bali',\n    name: 'Bali, Indonesia',\n    description: 'Tropical paradise with beautiful beaches, lush rice terraces, and rich cultural heritage',\n    imageUrl: 'https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d-8.409518!2d115.188919!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 88,\n    category: ['nature', 'relaxation', 'culture', 'beach'],\n    highlights: ['Ubud Rice Terraces', 'Tanah Lot Temple', 'Seminyak Beach', 'Mount Batur'],\n    bestTimeToVisit: 'April-October',\n    averageCost: { low: 40, medium: 80, luxury: 180 },\n  },\n  {\n    id: 'new-york',\n    name: 'New York City, USA',\n    description: 'The city that never sleeps, featuring iconic skylines, Broadway shows, and diverse neighborhoods',\n    imageUrl: 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d40.758896!2d-73.985130!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 94,\n    category: ['urban', 'culture', 'entertainment', 'food'],\n    highlights: ['Statue of Liberty', 'Central Park', 'Times Square', 'Brooklyn Bridge'],\n    bestTimeToVisit: 'April-June, September-November',\n    averageCost: { low: 100, medium: 200, luxury: 400 },\n  },\n  {\n    id: 'santorini',\n    name: 'Santorini, Greece',\n    description: 'Stunning Greek island with white-washed buildings, blue domes, and breathtaking sunsets',\n    imageUrl: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d36.393156!2d25.461509!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 90,\n    category: ['romance', 'relaxation', 'culture', 'beach'],\n    highlights: ['Oia Village', 'Red Beach', 'Akrotiri Archaeological Site', 'Fira Town'],\n    bestTimeToVisit: 'April-October',\n    averageCost: { low: 60, medium: 120, luxury: 280 },\n  },\n  {\n    id: 'iceland',\n    name: 'Reykjavik, Iceland',\n    description: 'Land of fire and ice with dramatic landscapes, geysers, and the Northern Lights',\n    imageUrl: 'https://images.unsplash.com/photo-1504893524553-b855bce32c67?w=800&q=80',\n    vrPreviewUrl: 'https://www.google.com/maps/embed?pb=!4v1234567890!6m8!1m7!1sCAoSLEFGMVFpcE5xVjBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzBfYnRfVzA!2m2!1d64.146582!2d-21.942636!3f0!4f0!5f0.7820865974627469',\n    popularityScore: 85,\n    category: ['nature', 'adventure', 'unique'],\n    highlights: ['Blue Lagoon', 'Golden Circle', 'Northern Lights', 'Gullfoss Waterfall'],\n    bestTimeToVisit: 'June-August (summer), September-March (Northern Lights)',\n    averageCost: { low: 90, medium: 160, luxury: 320 },\n  },\n];\n\n// Enhanced mock itinerary generation\nexport function generateMockItinerary(formData: TripPlannerFormData): ApiResponse<ItineraryResponse> {\n  const tripDuration = Math.ceil(\n    (formData.endDate.getTime() - formData.startDate.getTime()) / (1000 * 60 * 60 * 24)\n  );\n\n  const destination = MOCK_DESTINATIONS.find(d => d.name.toLowerCase().includes(formData.destination.toLowerCase())) \n    || MOCK_DESTINATIONS[0];\n\n  const mockItinerary: ItineraryResponse = {\n    tripId: `trip-${Date.now()}`,\n    itinerary: Array.from({ length: Math.min(tripDuration, 7) }, (_, index) => {\n      const currentDate = new Date(formData.startDate);\n      currentDate.setDate(currentDate.getDate() + index);\n      \n      return {\n        dayNumber: index + 1,\n        date: currentDate,\n        places: generateDayPlaces(destination, index, formData.interests),\n        foodRecommendations: generateFoodRecommendations(destination, formData.budget),\n        travelTips: generateTravelTips(destination, index, formData.budget, formData.interests),\n      };\n    }),\n    estimatedCost: {\n      min: destination.averageCost[formData.budget] * tripDuration * 0.8,\n      max: destination.averageCost[formData.budget] * tripDuration * 1.2,\n      currency: 'USD',\n    },\n    generatedAt: new Date(),\n  };\n\n  return {\n    success: true,\n    data: mockItinerary,\n    timestamp: new Date(),\n  };\n}\n\n// Generate places for a specific day\nfunction generateDayPlaces(destination: any, dayIndex: number, interests: string[]) {\n  const allPlaces = {\n    bengaluru: [\n      { name: 'Lalbagh Botanical Garden', category: 'nature', description: 'Historic botanical garden with diverse flora', time: '2 hours' },\n      { name: 'Bangalore Palace', category: 'culture', description: 'Tudor-style palace with beautiful architecture', time: '2 hours' },\n      { name: 'Cubbon Park', category: 'nature', description: 'Sprawling green space in the heart of the city', time: '1.5 hours' },\n      { name: 'ISKCON Temple', category: 'culture', description: 'Beautiful temple with spiritual ambiance', time: '1.5 hours' },\n      { name: 'Vidhana Soudha', category: 'culture', description: 'Impressive government building with neo-Dravidian architecture', time: '1 hour' },\n      { name: 'Commercial Street', category: 'shopping', description: 'Bustling shopping street with local goods', time: '2 hours' },\n    ],\n    paris: [\n      { name: 'Eiffel Tower', category: 'culture', description: 'Iconic iron lattice tower and symbol of Paris', time: '3 hours' },\n      { name: 'Louvre Museum', category: 'culture', description: 'World\\'s largest art museum', time: '4 hours' },\n      { name: 'Notre-Dame Cathedral', category: 'culture', description: 'Gothic cathedral masterpiece', time: '2 hours' },\n      { name: 'Montmartre District', category: 'culture', description: 'Artistic neighborhood with Sacr√©-C≈ìur', time: '3 hours' },\n      { name: 'Seine River Cruise', category: 'relaxation', description: 'Scenic boat tour along the Seine', time: '1.5 hours' },\n      { name: 'Champs-√âlys√©es', category: 'shopping', description: 'Famous avenue for shopping and caf√©s', time: '2 hours' },\n    ],\n    tokyo: [\n      { name: 'Shibuya Crossing', category: 'urban', description: 'World\\'s busiest pedestrian crossing', time: '1 hour' },\n      { name: 'Senso-ji Temple', category: 'culture', description: 'Ancient Buddhist temple in Asakusa', time: '2 hours' },\n      { name: 'Tokyo Skytree', category: 'urban', description: 'Tallest structure in Japan with panoramic views', time: '2 hours' },\n      { name: 'Tsukiji Outer Market', category: 'food', description: 'Fresh seafood and street food paradise', time: '2 hours' },\n      { name: 'Harajuku District', category: 'culture', description: 'Youth culture and fashion hub', time: '2 hours' },\n      { name: 'Imperial Palace Gardens', category: 'nature', description: 'Peaceful gardens in the city center', time: '2 hours' },\n    ],\n    bali: [\n      { name: 'Ubud Rice Terraces', category: 'nature', description: 'Stunning terraced rice fields', time: '3 hours' },\n      { name: 'Tanah Lot Temple', category: 'culture', description: 'Sea temple on a rock formation', time: '2 hours' },\n      { name: 'Seminyak Beach', category: 'beach', description: 'Beautiful beach with sunset views', time: '4 hours' },\n      { name: 'Sacred Monkey Forest', category: 'nature', description: 'Nature reserve with playful monkeys', time: '1.5 hours' },\n      { name: 'Tegallalang Rice Terraces', category: 'nature', description: 'Instagram-famous rice terraces', time: '2 hours' },\n      { name: 'Ubud Art Market', category: 'shopping', description: 'Traditional crafts and souvenirs', time: '2 hours' },\n    ],\n  };\n\n  const destinationKey = destination.id as keyof typeof allPlaces;\n  const places = allPlaces[destinationKey] || allPlaces.paris;\n  \n  // Select places based on interests and day\n  const relevantPlaces = places.filter(place => \n    interests.some(interest => place.category.includes(interest)) || \n    place.category === 'culture' // Always include cultural sites\n  );\n\n  const selectedPlaces = relevantPlaces.slice(dayIndex * 2, (dayIndex * 2) + 2);\n  \n  return selectedPlaces.map(place => ({\n    name: place.name,\n    description: place.description,\n    estimatedTime: place.time,\n    category: place.category,\n  }));\n}\n\n// Generate food recommendations\nfunction generateFoodRecommendations(destination: any, budget: string) {\n  const foodOptions = {\n    bengaluru: {\n      luxury: [\n        { name: 'Karavalli', type: 'Coastal Indian', description: 'Award-winning coastal cuisine in elegant setting', priceRange: '$$$' },\n        { name: 'Rim Naam', type: 'Thai', description: 'Authentic Thai cuisine in beautiful ambiance', priceRange: '$$$' },\n      ],\n      medium: [\n        { name: 'MTR', type: 'South Indian', description: 'Legendary restaurant serving authentic Karnataka cuisine', priceRange: '$$' },\n        { name: 'Vidyarthi Bhavan', type: 'South Indian', description: 'Famous for crispy dosas since 1943', priceRange: '$$' },\n      ],\n      low: [\n        { name: 'CTR (Central Tiffin Room)', type: 'South Indian', description: 'Iconic spot for benne dosa', priceRange: '$' },\n        { name: 'Veena Stores', type: 'Snacks', description: 'Popular for khara bath and kesari bath', priceRange: '$' },\n      ],\n    },\n    paris: {\n      luxury: [\n        { name: 'Le Jules Verne', type: 'Fine Dining', description: 'Michelin-starred restaurant in the Eiffel Tower', priceRange: '$$$' },\n        { name: 'L\\'Ami Jean', type: 'Bistro', description: 'Traditional French bistro with modern twist', priceRange: '$$' },\n      ],\n      medium: [\n        { name: 'Breizh Caf√©', type: 'Cr√™perie', description: 'Modern take on traditional Breton cr√™pes', priceRange: '$$' },\n        { name: 'Du Pain et des Id√©es', type: 'Bakery', description: 'Artisanal bakery with exceptional pastries', priceRange: '$' },\n      ],\n      low: [\n        { name: 'L\\'As du Fallafel', type: 'Street Food', description: 'Famous falafel in the Marais district', priceRange: '$' },\n        { name: 'Local Boulangerie', type: 'Bakery', description: 'Fresh croissants and coffee', priceRange: '$' },\n      ],\n    },\n    tokyo: {\n      luxury: [\n        { name: 'Sukiyabashi Jiro', type: 'Sushi', description: 'World-renowned sushi master\\'s restaurant', priceRange: '$$$' },\n        { name: 'Narisawa', type: 'Fine Dining', description: 'Innovative Japanese cuisine', priceRange: '$$$' },\n      ],\n      medium: [\n        { name: 'Ramen Yokocho', type: 'Ramen', description: 'Traditional ramen alley experience', priceRange: '$$' },\n        { name: 'Izakaya Torikizoku', type: 'Izakaya', description: 'Casual Japanese pub with yakitori', priceRange: '$$' },\n      ],\n      low: [\n        { name: 'Conveyor Belt Sushi', type: 'Sushi', description: 'Affordable sushi train experience', priceRange: '$' },\n        { name: 'Street Food Stalls', type: 'Street Food', description: 'Takoyaki and other local snacks', priceRange: '$' },\n      ],\n    },\n    bali: {\n      luxury: [\n        { name: 'Mozaic Restaurant', type: 'Fine Dining', description: 'French-Indonesian fusion cuisine', priceRange: '$$$' },\n        { name: 'Sarong Restaurant', type: 'Asian Fusion', description: 'Upscale Asian dining experience', priceRange: '$$' },\n      ],\n      medium: [\n        { name: 'Warung Babi Guling', type: 'Local', description: 'Traditional Balinese roasted pork', priceRange: '$$' },\n        { name: 'Bebek Bengil', type: 'Local', description: 'Famous crispy duck restaurant', priceRange: '$$' },\n      ],\n      low: [\n        { name: 'Local Warungs', type: 'Street Food', description: 'Authentic Indonesian street food', priceRange: '$' },\n        { name: 'Night Market', type: 'Street Food', description: 'Variety of local dishes and snacks', priceRange: '$' },\n      ],\n    },\n  };\n\n  const destinationKey = destination.id as keyof typeof foodOptions;\n  const options = foodOptions[destinationKey] || foodOptions.paris;\n  \n  return options[budget as keyof typeof options] || options.medium;\n}\n\n// Generate travel tips\nfunction generateTravelTips(destination: any, dayIndex: number, budget: string, interests: string[]) {\n  const baseTips = [\n    'Start early to avoid crowds at popular attractions',\n    'Wear comfortable walking shoes',\n    'Bring a portable charger for your phone',\n    'Stay hydrated throughout the day',\n    'Keep copies of important documents',\n  ];\n\n  const destinationTips = {\n    paris: [\n      'Learn basic French phrases - locals appreciate the effort',\n      'Many museums are free on the first Sunday of each month',\n      'Validate your metro tickets to avoid fines',\n      'Tipping 10% is standard in restaurants',\n    ],\n    tokyo: [\n      'Download a translation app for easier communication',\n      'Bow slightly when greeting people',\n      'Remove shoes when entering homes or certain restaurants',\n      'Cash is still king - many places don\\'t accept cards',\n    ],\n    bali: [\n      'Dress modestly when visiting temples',\n      'Bargaining is expected at markets',\n      'Be cautious with tap water - stick to bottled water',\n      'Respect local customs and ceremonies',\n    ],\n  };\n\n  const destinationKey = destination.id as keyof typeof destinationTips;\n  const specificTips = destinationTips[destinationKey] || destinationTips.paris;\n\n  const budgetTips = {\n    low: ['Look for free walking tours', 'Eat at local markets for authentic, cheap meals', 'Use public transportation'],\n    medium: ['Book attractions in advance for better prices', 'Consider guided tours for deeper insights'],\n    luxury: ['Make reservations at high-end restaurants well in advance', 'Consider private tours for personalized experiences'],\n  };\n\n  const interestTips = {\n    food: ['Try local specialties and street food', 'Ask locals for restaurant recommendations'],\n    culture: ['Visit museums and historical sites early in the day', 'Respect local customs and dress codes'],\n    nature: ['Bring sunscreen and insect repellent', 'Check weather conditions before outdoor activities'],\n    adventure: ['Book adventure activities in advance', 'Ensure you have proper insurance coverage'],\n    shopping: ['Keep receipts for tax refunds', 'Learn basic bargaining phrases'],\n  };\n\n  const tips = [\n    baseTips[dayIndex % baseTips.length],\n    specificTips[dayIndex % specificTips.length],\n    budgetTips[budget as keyof typeof budgetTips][0],\n  ];\n\n  // Add interest-specific tips\n  interests.forEach(interest => {\n    if (interestTips[interest as keyof typeof interestTips]) {\n      tips.push(interestTips[interest as keyof typeof interestTips][0]);\n    }\n  });\n\n  return tips.slice(0, 3); // Return max 3 tips per day\n}\n\n// Enhanced mock chat responses\nexport function generateMockChatResponse(message: string): ApiResponse<ChatResponse> {\n  const lowerMessage = message.toLowerCase();\n  \n  let response = '';\n  let suggestions: string[] = [];\n\n  if (lowerMessage.includes('food') || lowerMessage.includes('eat') || lowerMessage.includes('restaurant')) {\n    response = \"For food recommendations, I'd suggest trying the local specialties! Each destination has unique flavors - from French pastries in Paris to fresh sushi in Tokyo. Would you like specific restaurant suggestions based on your budget?\";\n    suggestions = ['Recommend budget-friendly restaurants', 'What are the local specialties?', 'Any food markets nearby?'];\n  } else if (lowerMessage.includes('transport') || lowerMessage.includes('get around') || lowerMessage.includes('travel')) {\n    response = \"Getting around is easy with local transportation! Most cities have efficient public transit systems. I can help you with metro maps, taxi apps, or walking routes to your destinations.\";\n    suggestions = ['Show me public transport options', 'How much do taxis cost?', 'Is it walkable?'];\n  } else if (lowerMessage.includes('hidden') || lowerMessage.includes('secret') || lowerMessage.includes('gems')) {\n    response = \"I love sharing hidden gems! There are amazing local spots that most tourists miss - from secret viewpoints to neighborhood caf√©s where locals hang out. What type of hidden gems interest you most?\";\n    suggestions = ['Secret viewpoints', 'Local neighborhood spots', 'Off-the-beaten-path attractions'];\n  } else if (lowerMessage.includes('weather') || lowerMessage.includes('climate')) {\n    response = \"Weather can really impact your trip! I can help you prepare with current conditions, seasonal patterns, and what to pack. The best time to visit varies by destination and your preferred activities.\";\n    suggestions = ['What should I pack?', 'Best time to visit?', 'Current weather conditions'];\n  } else if (lowerMessage.includes('culture') || lowerMessage.includes('customs') || lowerMessage.includes('etiquette')) {\n    response = \"Understanding local culture enhances your travel experience! Each destination has unique customs, from greeting styles to dining etiquette. I can share important cultural tips to help you connect with locals respectfully.\";\n    suggestions = ['Greeting customs', 'Dining etiquette', 'What to avoid doing'];\n  } else if (lowerMessage.includes('attraction') || lowerMessage.includes('see') || lowerMessage.includes('visit')) {\n    response = \"There are so many amazing attractions to explore! From world-famous landmarks to local favorites, I can help you prioritize based on your interests and available time. What type of attractions interest you most?\";\n    suggestions = ['Must-see landmarks', 'Museums and galleries', 'Outdoor activities'];\n  } else if (lowerMessage.includes('budget') || lowerMessage.includes('cost') || lowerMessage.includes('price')) {\n    response = \"Budget planning is crucial for a great trip! Costs vary significantly by destination and travel style. I can help you estimate expenses for accommodation, food, transportation, and activities based on your preferences.\";\n    suggestions = ['Daily budget estimates', 'Money-saving tips', 'Free activities'];\n  } else if (lowerMessage.includes('safety') || lowerMessage.includes('safe') || lowerMessage.includes('security')) {\n    response = \"Your safety is important! I can share current safety information, common scams to avoid, emergency contacts, and general precautions for your destination. Most popular tourist areas are quite safe with basic precautions.\";\n    suggestions = ['Emergency contacts', 'Common scams to avoid', 'Safe neighborhoods'];\n  } else {\n    const generalResponses = [\n      \"I'm here to help make your trip amazing! What specific aspect of your travel would you like assistance with?\",\n      \"Great question! I have lots of local insights to share. What would you like to know more about?\",\n      \"I'd be happy to help you with your travel plans! Could you tell me more about what you're looking for?\",\n      \"That's an interesting question! Let me provide you with some helpful information and suggestions.\",\n    ];\n    \n    response = generalResponses[Math.floor(Math.random() * generalResponses.length)];\n    suggestions = [\n      'Tell me about local food',\n      'How do I get around?',\n      'What are the must-see attractions?',\n      'Any cultural tips?',\n    ];\n  }\n\n  const mockChatResponse: ChatResponse = {\n    messageId: `msg-${Date.now()}`,\n    content: response,\n    suggestions,\n    timestamp: new Date(),\n  };\n\n  return {\n    success: true,\n    data: mockChatResponse,\n    timestamp: new Date(),\n  };\n}\n\n// Enhanced mock emergency responses\nexport function generateMockEmergencyResponse(type: EmergencyType): ApiResponse<EmergencyResponse> {\n  const emergencyResponses = {\n    medical: {\n      confirmationMessage: \"Medical emergency request received. Our team is connecting you with local medical services immediately.\",\n      contactInfo: {\n        phone: \"+1-800-MEDICAL-HELP\",\n        email: \"medical@travelsphere.com\",\n      },\n      estimatedResponseTime: \"Within 5 minutes\",\n      additionalInfo: \"If this is a life-threatening emergency, please call local emergency services (911, 112, etc.) immediately.\",\n    },\n    passport: {\n      confirmationMessage: \"Lost passport request received. We're connecting you with the nearest embassy or consulate.\",\n      contactInfo: {\n        phone: \"+1-800-PASSPORT-HELP\",\n        email: \"documents@travelsphere.com\",\n      },\n      estimatedResponseTime: \"Within 15 minutes\",\n      additionalInfo: \"Please gather any identification documents you have and prepare to file a police report if required.\",\n    },\n    hotel: {\n      confirmationMessage: \"Hotel issue request received. Our accommodation team is working to resolve your problem.\",\n      contactInfo: {\n        phone: \"+1-800-HOTEL-HELP\",\n        email: \"accommodation@travelsphere.com\",\n      },\n      estimatedResponseTime: \"Within 10 minutes\",\n      additionalInfo: \"We'll help you find alternative accommodation if needed and work with your current hotel to resolve any issues.\",\n    },\n    'local-help': {\n      confirmationMessage: \"Local assistance request received. Our local support team is ready to help you.\",\n      contactInfo: {\n        phone: \"+1-800-LOCAL-HELP\",\n        email: \"local@travelsphere.com\",\n      },\n      estimatedResponseTime: \"Within 15 minutes\",\n      additionalInfo: \"Our local experts can help with directions, recommendations, language assistance, and general travel support.\",\n    },\n  };\n\n  const responseData = emergencyResponses[type];\n\n  const mockResponse: EmergencyResponse = {\n    requestId: `emergency-${Date.now()}`,\n    confirmationMessage: responseData.confirmationMessage,\n    contactInfo: responseData.contactInfo,\n    estimatedResponseTime: responseData.estimatedResponseTime,\n  };\n\n  return {\n    success: true,\n    data: mockResponse,\n    timestamp: new Date(),\n  };\n}\n\n// Mock data health check\nexport function getMockDataStatus() {\n  return {\n    destinations: MOCK_DESTINATIONS.length,\n    lastUpdated: new Date().toISOString(),\n    version: '1.0.0',\n    status: 'active',\n  };\n}","// Application constants\nimport type { Interest, BudgetLevel } from '@/types/trip';\nimport type { EmergencyType } from '@/types/api';\n\n// API endpoints\nexport const API_ENDPOINTS = {\n  GENERATE_ITINERARY: '/api/generate-itinerary',\n  CHAT_ASSISTANT: '/api/chat-assistant',\n  EMERGENCY_SUPPORT: '/api/emergency-support',\n} as const;\n\n// Responsive breakpoints (in pixels)\nexport const BREAKPOINTS = {\n  MOBILE: 320,\n  TABLET: 768,\n  DESKTOP: 1024,\n} as const;\n\n// Travel interests options\nexport const TRAVEL_INTERESTS: Array<{ \n  value: Interest; \n  label: string; \n  icon: string; \n  iconName: 'food' | 'adventure' | 'culture' | 'nature' | 'shopping';\n}> = [\n  { value: 'food', label: 'Food & Dining', icon: 'üçΩÔ∏è', iconName: 'food' },\n  { value: 'adventure', label: 'Adventure', icon: 'üèîÔ∏è', iconName: 'adventure' },\n  { value: 'culture', label: 'Culture & History', icon: 'üèõÔ∏è', iconName: 'culture' },\n  { value: 'nature', label: 'Nature & Wildlife', icon: 'üåø', iconName: 'nature' },\n  { value: 'shopping', label: 'Shopping', icon: 'üõçÔ∏è', iconName: 'shopping' },\n];\n\n// Budget level options\nexport const BUDGET_LEVELS: Array<{ value: BudgetLevel; label: string; description: string }> = [\n  { value: 'low', label: 'Budget-Friendly', description: 'Affordable options and local experiences' },\n  { value: 'medium', label: 'Mid-Range', description: 'Comfortable accommodations and activities' },\n  { value: 'luxury', label: 'Luxury', description: 'Premium experiences and high-end accommodations' },\n];\n\n// Emergency types\nexport const EMERGENCY_TYPES: Array<{ \n  value: EmergencyType; \n  label: string; \n  icon: string; \n  iconName: 'medical' | 'passport' | 'hotel' | 'help';\n  color: string; \n  description: string;\n}> = [\n  { \n    value: 'medical', \n    label: 'Medical Emergency', \n    icon: 'üè•', \n    iconName: 'medical',\n    color: '#dc3545',\n    description: 'Get immediate medical assistance'\n  },\n  { \n    value: 'passport', \n    label: 'Lost Passport', \n    icon: 'üìò', \n    iconName: 'passport',\n    color: '#fd7e14',\n    description: 'Report lost travel documents'\n  },\n  { \n    value: 'hotel', \n    label: 'Hotel Issue', \n    icon: 'üè®', \n    iconName: 'hotel',\n    color: '#6f42c1',\n    description: 'Resolve accommodation problems'\n  },\n  { \n    value: 'local-help', \n    label: 'Need Local Help', \n    icon: 'üÜò', \n    iconName: 'help',\n    color: '#20c997',\n    description: 'Get local assistance and guidance'\n  },\n];\n\n// Color theme\nexport const COLORS = {\n  PRIMARY: '#2563eb', // Blue\n  SECONDARY: '#0891b2', // Teal\n  ACCENT: '#f97316', // Soft orange\n  SUCCESS: '#059669',\n  WARNING: '#d97706',\n  ERROR: '#dc2626',\n  GRAY: {\n    50: '#f9fafb',\n    100: '#f3f4f6',\n    200: '#e5e7eb',\n    300: '#d1d5db',\n    400: '#9ca3af',\n    500: '#6b7280',\n    600: '#4b5563',\n    700: '#374151',\n    800: '#1f2937',\n    900: '#111827',\n  },\n} as const;\n\n// Animation durations (in milliseconds)\nexport const ANIMATION_DURATION = {\n  FAST: 150,\n  NORMAL: 300,\n  SLOW: 500,\n} as const;\n\n// Local storage keys\nexport const STORAGE_KEYS = {\n  SAVED_TRIPS: 'travelsphere_saved_trips',\n  USER_PREFERENCES: 'travelsphere_user_preferences',\n  CHAT_SESSIONS: 'travelsphere_chat_sessions',\n} as const;\n\n// Default destinations for demo\nexport const SAMPLE_DESTINATIONS = [\n  {\n    id: 'paris',\n    name: 'Paris, France',\n    description: 'The City of Light with iconic landmarks, world-class museums, and romantic atmosphere',\n    imageUrl: 'https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=800',\n    vrPreviewUrl: 'https://example.com/vr/paris',\n    popularityScore: 95,\n    category: ['culture', 'romance', 'food', 'art'],\n  },\n  {\n    id: 'tokyo',\n    name: 'Tokyo, Japan',\n    description: 'Modern metropolis blending traditional culture with cutting-edge technology',\n    imageUrl: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800',\n    vrPreviewUrl: 'https://example.com/vr/tokyo',\n    popularityScore: 92,\n    category: ['culture', 'food', 'technology', 'urban'],\n  },\n  {\n    id: 'bali',\n    name: 'Bali, Indonesia',\n    description: 'Tropical paradise with beautiful beaches, lush rice terraces, and rich cultural heritage',\n    imageUrl: 'https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=800',\n    vrPreviewUrl: 'https://example.com/vr/bali',\n    popularityScore: 88,\n    category: ['nature', 'relaxation', 'culture', 'beach'],\n  },\n  {\n    id: 'new-york',\n    name: 'New York City, USA',\n    description: 'The city that never sleeps, featuring iconic skylines, Broadway shows, and diverse neighborhoods',\n    imageUrl: 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800',\n    vrPreviewUrl: 'https://example.com/vr/new-york',\n    popularityScore: 94,\n    category: ['urban', 'culture', 'entertainment', 'food'],\n  },\n  {\n    id: 'santorini',\n    name: 'Santorini, Greece',\n    description: 'Stunning Greek island with white-washed buildings, blue domes, and breathtaking sunsets',\n    imageUrl: 'https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=800',\n    vrPreviewUrl: 'https://example.com/vr/santorini',\n    popularityScore: 90,\n    category: ['romance', 'relaxation', 'culture', 'beach'],\n  },\n  {\n    id: 'iceland',\n    name: 'Reykjavik, Iceland',\n    description: 'Land of fire and ice with dramatic landscapes, geysers, and the Northern Lights',\n    imageUrl: 'https://images.unsplash.com/photo-1539066834-3c0b2b2b3c3c?w=800',\n    vrPreviewUrl: 'https://example.com/vr/iceland',\n    popularityScore: 85,\n    category: ['nature', 'adventure', 'unique'],\n  },\n];\n\n// Quick chat suggestions\nexport const QUICK_CHAT_SUGGESTIONS = [\n  \"What should I eat here?\",\n  \"How do I get around?\",\n  \"Any hidden gems nearby?\",\n  \"What's the weather like?\",\n  \"Are there any local customs I should know?\",\n  \"What are the must-see attractions?\",\n];\n\n// Form validation rules\nexport const VALIDATION_RULES = {\n  MIN_TRIP_DURATION: 1, // days\n  MAX_TRIP_DURATION: 30, // days\n  MIN_MESSAGE_LENGTH: 1,\n  MAX_MESSAGE_LENGTH: 500,\n} as const;","import React, { useState, useRef, useEffect } from 'react';\nimport { SAMPLE_DESTINATIONS } from '../../utils/constants';\nimport './DestinationDropdown.css';\n\ninterface DestinationDropdownProps {\n  value: string;\n  onChange: (value: string) => void;\n  error?: string;\n}\n\nconst DestinationDropdown: React.FC<DestinationDropdownProps> = ({\n  value,\n  onChange,\n  error\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredDestinations, setFilteredDestinations] = useState(SAMPLE_DESTINATIONS);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Filter destinations based on search term\n  useEffect(() => {\n    const filtered = SAMPLE_DESTINATIONS.filter(destination =>\n      destination.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      destination.description.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n    setFilteredDestinations(filtered);\n  }, [searchTerm]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const selectedDestination = SAMPLE_DESTINATIONS.find(dest => dest.id === value);\n\n  const handleSelect = (destinationId: string) => {\n    onChange(destinationId);\n    setIsOpen(false);\n    setSearchTerm('');\n  };\n\n  return (\n    <div className=\"destination-dropdown\" ref={dropdownRef}>\n      <label htmlFor=\"destination\" className=\"form-label\">\n        Destination *\n      </label>\n      <div className=\"dropdown-container\">\n        <button\n          type=\"button\"\n          className={`dropdown-trigger ${error ? 'error' : ''}`}\n          onClick={() => setIsOpen(!isOpen)}\n          aria-expanded={isOpen}\n          aria-haspopup=\"listbox\"\n        >\n          <span className=\"dropdown-value\">\n            {selectedDestination ? selectedDestination.name : 'Select a destination'}\n          </span>\n          <span className={`dropdown-arrow ${isOpen ? 'open' : ''}`}>\n            ‚ñº\n          </span>\n        </button>\n\n        {isOpen && (\n          <div className=\"dropdown-menu\" role=\"listbox\">\n            <div className=\"dropdown-search\">\n              <input\n                type=\"text\"\n                placeholder=\"Search destinations...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"search-input\"\n                autoFocus\n              />\n            </div>\n            <div className=\"dropdown-options\">\n              {filteredDestinations.length > 0 ? (\n                filteredDestinations.map((destination) => (\n                  <button\n                    key={destination.id}\n                    type=\"button\"\n                    className={`dropdown-option ${value === destination.id ? 'selected' : ''}`}\n                    onClick={() => handleSelect(destination.id)}\n                    role=\"option\"\n                    aria-selected={value === destination.id}\n                  >\n                    <img\n                      src={destination.imageUrl}\n                      alt={destination.name}\n                      className=\"destination-image\"\n                    />\n                    <div className=\"destination-info\">\n                      <div className=\"destination-name\">{destination.name}</div>\n                      <div className=\"destination-description\">{destination.description}</div>\n                    </div>\n                  </button>\n                ))\n              ) : (\n                <div className=\"no-results\">\n                  No destinations found matching \"{searchTerm}\"\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n      {error && <div className=\"error-message\">{error}</div>}\n    </div>\n  );\n};\n\nexport default DestinationDropdown;","import React from 'react';\nimport { BUDGET_LEVELS } from '../../utils/constants';\nimport type { BudgetLevel } from '../../types/trip';\nimport './BudgetSelector.css';\n\ninterface BudgetSelectorProps {\n  value: BudgetLevel | '';\n  onChange: (value: BudgetLevel) => void;\n  error?: string;\n}\n\nconst BudgetSelector: React.FC<BudgetSelectorProps> = ({\n  value,\n  onChange,\n  error\n}) => {\n  return (\n    <div className=\"budget-selector\">\n      <label className=\"form-label\">\n        Budget Level *\n      </label>\n      <div className=\"budget-options\">\n        {BUDGET_LEVELS.map((budget) => (\n          <label\n            key={budget.value}\n            className={`budget-option ${value === budget.value ? 'selected' : ''}`}\n          >\n            <input\n              type=\"radio\"\n              name=\"budget\"\n              value={budget.value}\n              checked={value === budget.value}\n              onChange={(e) => onChange(e.target.value as BudgetLevel)}\n              className=\"budget-radio\"\n            />\n            <div className=\"budget-content\">\n              <div className=\"budget-header\">\n                <span className=\"budget-icon\">\n                  {budget.value === 'low' && 'üí∞'}\n                  {budget.value === 'medium' && 'üí≥'}\n                  {budget.value === 'luxury' && 'üíé'}\n                </span>\n                <span className=\"budget-label\">{budget.label}</span>\n              </div>\n              <div className=\"budget-description\">{budget.description}</div>\n            </div>\n          </label>\n        ))}\n      </div>\n      {error && <div className=\"error-message\">{error}</div>}\n    </div>\n  );\n};\n\nexport default BudgetSelector;","// Date utility functions\nexport const dateUtils = {\n  // Format date for display\n  formatDate(date: Date): string {\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n  },\n\n  // Format date for form inputs\n  formatDateForInput(date: Date): string {\n    return date.toISOString().split('T')[0];\n  },\n\n  // Calculate number of days between dates\n  getDaysBetween(startDate: Date, endDate: Date): number {\n    const timeDiff = endDate.getTime() - startDate.getTime();\n    return Math.ceil(timeDiff / (1000 * 3600 * 24));\n  },\n\n  // Check if date is in the future\n  isFutureDate(date: Date): boolean {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    return date >= today;\n  },\n\n  // Get date range array\n  getDateRange(startDate: Date, endDate: Date): Date[] {\n    const dates: Date[] = [];\n    const currentDate = new Date(startDate);\n    \n    while (currentDate <= endDate) {\n      dates.push(new Date(currentDate));\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    \n    return dates;\n  },\n\n  // Format relative time (e.g., \"2 hours ago\")\n  formatRelativeTime(date: Date): string {\n    const now = new Date();\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n    \n    if (diffInSeconds < 60) {\n      return 'Just now';\n    } else if (diffInSeconds < 3600) {\n      const minutes = Math.floor(diffInSeconds / 60);\n      return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n    } else if (diffInSeconds < 86400) {\n      const hours = Math.floor(diffInSeconds / 3600);\n      return `${hours} hour${hours > 1 ? 's' : ''} ago`;\n    } else {\n      const days = Math.floor(diffInSeconds / 86400);\n      return `${days} day${days > 1 ? 's' : ''} ago`;\n    }\n  },\n};","import React from 'react';\nimport { dateUtils } from '../../utils/dateUtils';\nimport './DateRangePicker.css';\n\ninterface DateRangePickerProps {\n  startDate: Date | null;\n  endDate: Date | null;\n  onStartDateChange: (date: Date | null) => void;\n  onEndDateChange: (date: Date | null) => void;\n  startDateError?: string;\n  endDateError?: string;\n}\n\nconst DateRangePicker: React.FC<DateRangePickerProps> = ({\n  startDate,\n  endDate,\n  onStartDateChange,\n  onEndDateChange,\n  startDateError,\n  endDateError\n}) => {\n  const today = new Date().toISOString().split('T')[0];\n  const maxDate = new Date();\n  maxDate.setFullYear(maxDate.getFullYear() + 2);\n  const maxDateString = maxDate.toISOString().split('T')[0];\n\n  const handleStartDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    if (value) {\n      const date = new Date(value);\n      onStartDateChange(date);\n      \n      // If end date is before new start date, clear it\n      if (endDate && date > endDate) {\n        onEndDateChange(null);\n      }\n    } else {\n      onStartDateChange(null);\n    }\n  };\n\n  const handleEndDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    if (value) {\n      onEndDateChange(new Date(value));\n    } else {\n      onEndDateChange(null);\n    }\n  };\n\n  const getMinEndDate = () => {\n    if (startDate) {\n      const minDate = new Date(startDate);\n      minDate.setDate(minDate.getDate() + 1);\n      return minDate.toISOString().split('T')[0];\n    }\n    return today;\n  };\n\n  return (\n    <div className=\"date-range-picker\">\n      <label className=\"form-label\">\n        Travel Dates *\n      </label>\n      <div className=\"date-inputs\">\n        <div className=\"date-input-group\">\n          <label htmlFor=\"start-date\" className=\"date-label\">\n            Departure Date\n          </label>\n          <input\n            id=\"start-date\"\n            type=\"date\"\n            value={startDate ? dateUtils.formatDateForInput(startDate) : ''}\n            onChange={handleStartDateChange}\n            min={today}\n            max={maxDateString}\n            className={`date-input ${startDateError ? 'error' : ''}`}\n          />\n          {startDateError && <div className=\"error-message\">{startDateError}</div>}\n        </div>\n\n        <div className=\"date-separator\">\n          <span className=\"separator-icon\">‚úàÔ∏è</span>\n        </div>\n\n        <div className=\"date-input-group\">\n          <label htmlFor=\"end-date\" className=\"date-label\">\n            Return Date\n          </label>\n          <input\n            id=\"end-date\"\n            type=\"date\"\n            value={endDate ? dateUtils.formatDateForInput(endDate) : ''}\n            onChange={handleEndDateChange}\n            min={getMinEndDate()}\n            max={maxDateString}\n            className={`date-input ${endDateError ? 'error' : ''}`}\n            disabled={!startDate}\n          />\n          {endDateError && <div className=\"error-message\">{endDateError}</div>}\n        </div>\n      </div>\n\n      {startDate && endDate && (\n        <div className=\"trip-duration\">\n          <span className=\"duration-icon\">üìÖ</span>\n          <span className=\"duration-text\">\n            {Math.ceil((endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24))} days\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DateRangePicker;","import React from 'react';\nimport { TRAVEL_INTERESTS } from '../../utils/constants';\nimport { Icon } from '@/components/shared';\nimport type { Interest } from '../../types/trip';\nimport './InterestSelector.css';\n\ninterface InterestSelectorProps {\n  value: Interest[];\n  onChange: (interests: Interest[]) => void;\n  error?: string;\n}\n\nconst InterestSelector: React.FC<InterestSelectorProps> = ({\n  value,\n  onChange,\n  error\n}) => {\n  const handleInterestToggle = (interest: Interest) => {\n    if (value.includes(interest)) {\n      // Remove interest\n      onChange(value.filter(i => i !== interest));\n    } else {\n      // Add interest\n      onChange([...value, interest]);\n    }\n  };\n\n  return (\n    <div className=\"interest-selector\">\n      <label className=\"form-label\">\n        <Icon name=\"heart\" size=\"sm\" />\n        Travel Interests *\n        <span className=\"interest-hint\">Select all that apply</span>\n      </label>\n      <div className=\"interest-grid\">\n        {TRAVEL_INTERESTS.map((interest) => (\n          <label\n            key={interest.value}\n            className={`interest-option ${value.includes(interest.value) ? 'selected' : ''}`}\n          >\n            <input\n              type=\"checkbox\"\n              checked={value.includes(interest.value)}\n              onChange={() => handleInterestToggle(interest.value)}\n              className=\"interest-checkbox\"\n            />\n            <div className=\"interest-content\">\n              <Icon \n                name={interest.iconName} \n                size=\"lg\" \n                className=\"interest-icon\"\n              />\n              <span className=\"interest-label\">{interest.label}</span>\n            </div>\n          </label>\n        ))}\n      </div>\n      {value.length > 0 && (\n        <div className=\"selected-count\">\n          <Icon name=\"check\" size=\"sm\" />\n          {value.length} interest{value.length !== 1 ? 's' : ''} selected\n        </div>\n      )}\n      {error && (\n        <div className=\"error-message\">\n          <Icon name=\"error\" size=\"sm\" />\n          {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InterestSelector;","// Comprehensive loading component with multiple states and animations\nimport React, { useEffect, useState } from 'react';\nimport LoadingSpinner from './LoadingSpinner';\n\ninterface LoadingStage {\n  name: string;\n  message: string;\n  duration?: number; // Optional duration in ms\n}\n\ninterface ComprehensiveLoaderProps {\n  isLoading: boolean;\n  stages?: LoadingStage[];\n  currentStage?: string;\n  progress?: number;\n  error?: string;\n  onRetry?: () => void;\n  className?: string;\n  size?: 'sm' | 'md' | 'lg';\n  showProgress?: boolean;\n  showStageIndicators?: boolean;\n  overlay?: boolean;\n  theme?: 'light' | 'dark' | 'travel';\n}\n\nconst ComprehensiveLoader: React.FC<ComprehensiveLoaderProps> = ({\n  isLoading,\n  stages = [],\n  currentStage,\n  progress,\n  error,\n  onRetry,\n  className = '',\n  size = 'md',\n  showProgress = false,\n  showStageIndicators = false,\n  overlay = false,\n  theme = 'travel',\n}) => {\n  const [currentStageIndex, setCurrentStageIndex] = useState(0);\n  const [animationPhase, setAnimationPhase] = useState<'enter' | 'active' | 'exit'>('enter');\n\n  // Auto-advance stages if durations are provided\n  useEffect(() => {\n    if (!isLoading || stages.length === 0) return;\n\n    const currentStageData = stages[currentStageIndex];\n    if (currentStageData?.duration && currentStageIndex < stages.length - 1) {\n      const timer = setTimeout(() => {\n        setCurrentStageIndex(prev => Math.min(prev + 1, stages.length - 1));\n      }, currentStageData.duration);\n\n      return () => clearTimeout(timer);\n    }\n  }, [currentStageIndex, stages, isLoading]);\n\n  // Handle animation phases\n  useEffect(() => {\n    if (isLoading) {\n      setAnimationPhase('enter');\n      const timer = setTimeout(() => setAnimationPhase('active'), 300);\n      return () => clearTimeout(timer);\n    } else {\n      setAnimationPhase('exit');\n    }\n  }, [isLoading]);\n\n  // Reset stage when loading starts\n  useEffect(() => {\n    if (isLoading) {\n      setCurrentStageIndex(0);\n    }\n  }, [isLoading]);\n\n  if (!isLoading && !error) return null;\n\n  const getCurrentMessage = () => {\n    if (currentStage) return currentStage;\n    if (stages.length > 0) return stages[currentStageIndex]?.message || stages[0].message;\n    return 'Loading...';\n  };\n\n  const getProgressValue = () => {\n    if (typeof progress === 'number') return progress;\n    if (stages.length > 0) {\n      return ((currentStageIndex + 1) / stages.length) * 100;\n    }\n    return undefined;\n  };\n\n  const containerClasses = [\n    'comprehensive-loader',\n    `size-${size}`,\n    `theme-${theme}`,\n    `phase-${animationPhase}`,\n    overlay ? 'overlay' : '',\n    className,\n  ].filter(Boolean).join(' ');\n\n  if (error) {\n    return (\n      <div className={`${containerClasses} error-state`}>\n        <div className=\"error-content\">\n          <div className=\"error-icon\">‚ö†Ô∏è</div>\n          <h3>Something went wrong</h3>\n          <p className=\"error-message\">{error}</p>\n          {onRetry && (\n            <button \n              className=\"retry-button btn primary\"\n              onClick={onRetry}\n              type=\"button\"\n            >\n              Try Again\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={containerClasses}>\n      <div className=\"loader-content\">\n        {/* Main loading spinner */}\n        <div className=\"spinner-container\">\n          <LoadingSpinner\n            size={size}\n            message=\"\"\n            className=\"main-spinner\"\n          />\n          \n          {/* Travel-themed icon overlay */}\n          {theme === 'travel' && (\n            <div className=\"travel-icon-overlay\">\n              <span className=\"travel-icon\">‚úàÔ∏è</span>\n            </div>\n          )}\n        </div>\n\n        {/* Loading message */}\n        <div className=\"loading-message\">\n          <p className=\"primary-message\">{getCurrentMessage()}</p>\n          \n          {/* Stage indicators */}\n          {showStageIndicators && stages.length > 0 && (\n            <div className=\"stage-indicators\">\n              {stages.map((stage, index) => (\n                <div\n                  key={index}\n                  className={`stage-indicator ${\n                    index < currentStageIndex ? 'completed' :\n                    index === currentStageIndex ? 'active' : 'pending'\n                  }`}\n                  title={stage.name}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Progress bar */}\n        {showProgress && (\n          <div className=\"progress-container\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\"\n                style={{ \n                  width: `${getProgressValue() || 0}%`,\n                  transition: 'width 0.3s ease',\n                }}\n              />\n            </div>\n            {typeof getProgressValue() === 'number' && (\n              <span className=\"progress-text\">\n                {Math.round(getProgressValue() || 0)}%\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Estimated time remaining */}\n        {stages.length > 0 && currentStageIndex < stages.length && (\n          <div className=\"time-estimate\">\n            <small>\n              Step {currentStageIndex + 1} of {stages.length}\n            </small>\n          </div>\n        )}\n      </div>\n\n      {/* Background animation */}\n      {theme === 'travel' && (\n        <div className=\"background-animation\">\n          <div className=\"floating-icon\">üåç</div>\n          <div className=\"floating-icon\">üó∫Ô∏è</div>\n          <div className=\"floating-icon\">üß≥</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ComprehensiveLoader;\n\n// Predefined stage configurations for common operations\nexport const LOADING_STAGES = {\n  ITINERARY_GENERATION: [\n    { name: 'validation', message: 'Validating your preferences...', duration: 800 },\n    { name: 'connection', message: 'Connecting to AI travel planner...', duration: 600 },\n    { name: 'analysis', message: 'Analyzing destinations and activities...', duration: 1000 },\n    { name: 'generation', message: 'Creating your personalized itinerary...', duration: 1200 },\n    { name: 'finalization', message: 'Finalizing recommendations...', duration: 500 },\n  ],\n  CHAT_RESPONSE: [\n    { name: 'processing', message: 'Processing your question...', duration: 400 },\n    { name: 'thinking', message: 'Thinking about the best response...', duration: 800 },\n    { name: 'responding', message: 'Preparing your answer...', duration: 300 },\n  ],\n  EMERGENCY_REQUEST: [\n    { name: 'submission', message: 'Submitting your request...', duration: 500 },\n    { name: 'routing', message: 'Routing to appropriate support team...', duration: 700 },\n    { name: 'confirmation', message: 'Confirming request received...', duration: 300 },\n  ],\n  VR_LOADING: [\n    { name: 'connection', message: 'Connecting to VR service...', duration: 600 },\n    { name: 'loading', message: 'Loading 360¬∞ experience...', duration: 1500 },\n    { name: 'rendering', message: 'Rendering virtual tour...', duration: 800 },\n  ],\n} as const;","// Itinerary generation service with Codex integration\nimport type { TripPlannerFormData } from '@/types/trip';\nimport type { ItineraryResponse, ApiResponse } from '@/types/api';\nimport type { FlightBooking, HotelBooking, ItineraryDay } from '@/types/itinerary';\nimport { generateMockItinerary } from './mockDataService';\nimport { generateItineraryWithCodex, isCodexAvailable } from './codexService';\n\nconst ITINERARY_STORAGE_KEY = 'travelsphere_itinerary';\n\nexport const itineraryService = {\n  // Generate itinerary - uses Codex if available, otherwise mock data\n  async generateItinerary(formData: TripPlannerFormData): Promise<ApiResponse<ItineraryResponse>> {\n    // Check if Codex is available\n    if (isCodexAvailable()) {\n      try {\n        console.info('Generating itinerary with Codex AI');\n        \n        const codexResponse = await generateItineraryWithCodex(\n          formData.destination,\n          formData.startDate,\n          formData.endDate,\n          formData.budget,\n          formData.interests\n        );\n        \n        // Parse the Codex response\n        const parsedData = JSON.parse(codexResponse);\n        \n        // Transform to our format\n        const itineraryResponse: ItineraryResponse = {\n          tripId: `trip-${Date.now()}`,\n          itinerary: parsedData.days.map((day: any) => ({\n            dayNumber: day.dayNumber,\n            date: new Date(day.date),\n            places: day.places,\n            foodRecommendations: day.foodRecommendations,\n            travelTips: day.travelTips,\n          })),\n          estimatedCost: parsedData.estimatedCost,\n          generatedAt: new Date(),\n        };\n        \n        return {\n          success: true,\n          data: itineraryResponse,\n          timestamp: new Date(),\n        };\n      } catch (error) {\n        console.warn('Codex generation failed, falling back to mock data:', error);\n        return this.getMockItinerary(formData);\n      }\n    } else {\n      // Codex not configured, use mock data\n      console.info('Generating itinerary with mock data (Codex not configured)');\n      return this.getMockItinerary(formData);\n    }\n  },\n\n  // Mock fallback data\n  getMockItinerary(formData: TripPlannerFormData): ApiResponse<ItineraryResponse> {\n    return generateMockItinerary(formData);\n  },\n\n  // Add hotel booking to itinerary\n  addHotelBooking(hotelBooking: HotelBooking): void {\n    try {\n      const itinerary = this.getStoredItinerary();\n      \n      // Initialize hotels array if not exists\n      if (!itinerary.hotels) {\n        itinerary.hotels = [];\n      }\n      \n      // Add hotel booking\n      itinerary.hotels.push(hotelBooking);\n      \n      // Update itinerary days with hotel information\n      this.updateItineraryDaysWithHotel(itinerary, hotelBooking);\n      \n      // Save updated itinerary\n      localStorage.setItem(ITINERARY_STORAGE_KEY, JSON.stringify(itinerary));\n      \n      console.info('Hotel booking added to itinerary:', hotelBooking.confirmationNumber);\n    } catch (error) {\n      console.error('Failed to add hotel booking to itinerary:', error);\n      throw error;\n    }\n  },\n\n  // Add flight booking to itinerary\n  addFlightBooking(flightBooking: FlightBooking): void {\n    try {\n      const itinerary = this.getStoredItinerary();\n      \n      // Initialize flights array if not exists\n      if (!itinerary.flights) {\n        itinerary.flights = [];\n      }\n      \n      // Add flight booking\n      itinerary.flights.push(flightBooking);\n      \n      // Update itinerary days with flight information\n      this.updateItineraryDaysWithFlight(itinerary, flightBooking);\n      \n      // Save updated itinerary\n      localStorage.setItem(ITINERARY_STORAGE_KEY, JSON.stringify(itinerary));\n      \n      console.info('Flight booking added to itinerary:', flightBooking.bookingReference);\n    } catch (error) {\n      console.error('Failed to add flight booking to itinerary:', error);\n      throw error;\n    }\n  },\n\n  // Get stored itinerary\n  getStoredItinerary(): any {\n    const stored = localStorage.getItem(ITINERARY_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : { flights: [], hotels: [], days: [] };\n  },\n\n  // Get all hotel bookings from itinerary\n  getHotelBookings(): HotelBooking[] {\n    const itinerary = this.getStoredItinerary();\n    return itinerary.hotels || [];\n  },\n\n  // Get all flight bookings from itinerary\n  getFlightBookings(): FlightBooking[] {\n    const itinerary = this.getStoredItinerary();\n    return itinerary.flights || [];\n  },\n\n  // Update itinerary days with hotel booking\n  updateItineraryDaysWithHotel(itinerary: any, hotel: HotelBooking): void {\n    if (!itinerary.days || !Array.isArray(itinerary.days)) {\n      return;\n    }\n\n    const checkInDate = new Date(hotel.checkIn).toDateString();\n    const checkOutDate = new Date(hotel.checkOut).toDateString();\n\n    itinerary.days.forEach((day: ItineraryDay) => {\n      const dayDate = new Date(day.date).toDateString();\n      \n      // Add hotel to check-in day\n      if (dayDate === checkInDate) {\n        if (!day.hotels) {\n          day.hotels = [];\n        }\n        day.hotels.push({\n          ...hotel,\n          status: 'check-in',\n        } as any);\n      }\n      \n      // Add hotel to check-out day\n      if (dayDate === checkOutDate) {\n        if (!day.hotels) {\n          day.hotels = [];\n        }\n        day.hotels.push({\n          ...hotel,\n          status: 'check-out',\n        } as any);\n      }\n      \n      // Add hotel to days in between (staying)\n      const dayTime = new Date(day.date).getTime();\n      const checkInTime = new Date(hotel.checkIn).getTime();\n      const checkOutTime = new Date(hotel.checkOut).getTime();\n      \n      if (dayTime > checkInTime && dayTime < checkOutTime) {\n        if (!day.hotels) {\n          day.hotels = [];\n        }\n        day.hotels.push({\n          ...hotel,\n          status: 'staying',\n        } as any);\n      }\n    });\n  },\n\n  // Update itinerary days with flight booking\n  updateItineraryDaysWithFlight(itinerary: any, flight: FlightBooking): void {\n    if (!itinerary.days || !Array.isArray(itinerary.days)) {\n      return;\n    }\n\n    const departureDate = new Date(flight.departure.time).toDateString();\n    const arrivalDate = new Date(flight.arrival.time).toDateString();\n\n    itinerary.days.forEach((day: ItineraryDay) => {\n      const dayDate = new Date(day.date).toDateString();\n      \n      // Add flight to departure day\n      if (dayDate === departureDate) {\n        if (!day.flights) {\n          day.flights = [];\n        }\n        day.flights.push({\n          ...flight,\n          status: 'departure',\n        } as any);\n      }\n      \n      // Add flight to arrival day if different\n      if (dayDate === arrivalDate && departureDate !== arrivalDate) {\n        if (!day.flights) {\n          day.flights = [];\n        }\n        day.flights.push({\n          ...flight,\n          status: 'arrival',\n        } as any);\n      }\n    });\n  },\n\n  // Calculate confidence score for itinerary with bookings\n  calculateItineraryConfidence(itinerary: any): number {\n    let score = 50; // Base score\n    \n    // Increase score if flights are booked\n    if (itinerary.flights && itinerary.flights.length > 0) {\n      score += 20;\n    }\n    \n    // Increase score if hotels are booked\n    if (itinerary.hotels && itinerary.hotels.length > 0) {\n      score += 20;\n    }\n    \n    // Increase score if both flights and hotels are booked\n    if (itinerary.flights?.length > 0 && itinerary.hotels?.length > 0) {\n      score += 10;\n    }\n    \n    return Math.min(score, 100);\n  },\n};","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport DestinationDropdown from './DestinationDropdown';\nimport BudgetSelector from './BudgetSelector';\nimport DateRangePicker from './DateRangePicker';\nimport InterestSelector from './InterestSelector';\nimport ComprehensiveLoader, { LOADING_STAGES as COMPREHENSIVE_LOADING_STAGES } from '../shared/ComprehensiveLoader';\nimport { useStageLoading } from '../../hooks/useLoadingStates';\nimport { useAsyncPerformance } from '../../hooks/usePerformance';\nimport type { TripPlannerFormData, BudgetLevel, Interest } from '../../types/trip';\nimport { VALIDATION_RULES } from '../../utils/constants';\nimport { itineraryService } from '../../services/itineraryService';\nimport './TripPlannerForm.css';\n\ninterface FormErrors {\n  destination?: string;\n  budget?: string;\n  startDate?: string;\n  endDate?: string;\n  interests?: string;\n  submit?: string;\n}\n\ninterface FormState {\n  destination: string;\n  budget: BudgetLevel | '';\n  startDate: Date | null;\n  endDate: Date | null;\n  interests: Interest[];\n}\n\nconst LOADING_STAGES = [\n  'Validating your preferences...',\n  'Connecting to our AI travel planner...',\n  'Analyzing destinations and activities...',\n  'Creating your personalized itinerary...',\n  'Finalizing recommendations...'\n];\n\nconst TripPlannerForm: React.FC = () => {\n  const navigate = useNavigate();\n  const [errors, setErrors] = useState<FormErrors>({});\n  const { measureAsync } = useAsyncPerformance();\n  \n  const {\n    isLoading,\n    error: loadingError,\n    progress,\n    startLoading,\n    nextStage,\n    finishLoading,\n    setError: setLoadingError,\n  } = useStageLoading(LOADING_STAGES);\n  \n  const [formData, setFormData] = useState<FormState>({\n    destination: '',\n    budget: '',\n    startDate: null,\n    endDate: null,\n    interests: []\n  });\n\n  const validateForm = (): boolean => {\n    const newErrors: FormErrors = {};\n\n    // Validate destination\n    if (!formData.destination) {\n      newErrors.destination = 'Please select a destination';\n    }\n\n    // Validate budget\n    if (!formData.budget) {\n      newErrors.budget = 'Please select a budget level';\n    }\n\n    // Validate start date\n    if (!formData.startDate) {\n      newErrors.startDate = 'Please select a departure date';\n    } else {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      if (formData.startDate < today) {\n        newErrors.startDate = 'Departure date cannot be in the past';\n      }\n    }\n\n    // Validate end date\n    if (!formData.endDate) {\n      newErrors.endDate = 'Please select a return date';\n    } else if (formData.startDate && formData.endDate <= formData.startDate) {\n      newErrors.endDate = 'Return date must be after departure date';\n    } else if (formData.startDate) {\n      const tripDuration = Math.ceil(\n        (formData.endDate.getTime() - formData.startDate.getTime()) / (1000 * 60 * 60 * 24)\n      );\n      if (tripDuration < VALIDATION_RULES.MIN_TRIP_DURATION) {\n        newErrors.endDate = `Trip must be at least ${VALIDATION_RULES.MIN_TRIP_DURATION} day(s)`;\n      } else if (tripDuration > VALIDATION_RULES.MAX_TRIP_DURATION) {\n        newErrors.endDate = `Trip cannot exceed ${VALIDATION_RULES.MAX_TRIP_DURATION} days`;\n      }\n    }\n\n    // Validate interests\n    if (!formData.interests || formData.interests.length === 0) {\n      newErrors.interests = 'Please select at least one interest';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    startLoading();\n    setErrors({}); // Clear any previous errors\n    \n    try {\n      // Create complete form data\n      const completeFormData: TripPlannerFormData = {\n        destination: formData.destination,\n        budget: formData.budget as BudgetLevel,\n        startDate: formData.startDate!,\n        endDate: formData.endDate!,\n        interests: formData.interests\n      };\n\n      // Stage 1: Validation complete\n      await new Promise(resolve => setTimeout(resolve, 200));\n      nextStage();\n\n      // Stage 2: Connecting to API\n      await new Promise(resolve => setTimeout(resolve, 150));\n      nextStage();\n\n      // Stage 3: Analyzing preferences\n      await new Promise(resolve => setTimeout(resolve, 200));\n      nextStage();\n\n      // Stage 4: Generate itinerary with performance monitoring\n      const response = await measureAsync(\n        () => itineraryService.generateItinerary(completeFormData),\n        'generateItinerary'\n      );\n      nextStage();\n\n      // Stage 5: Finalizing\n      await new Promise(resolve => setTimeout(resolve, 150));\n      \n      if (response.success && response.data) {\n        // Store both form data and generated itinerary for the next page\n        sessionStorage.setItem('tripPlannerData', JSON.stringify(completeFormData));\n        sessionStorage.setItem('generatedItinerary', JSON.stringify(response.data));\n        \n        finishLoading();\n        \n        // Navigate to itinerary page with the trip ID\n        navigate(`/itinerary/${response.data.tripId}`);\n      } else {\n        throw new Error('Failed to generate itinerary');\n      }\n      \n    } catch (error) {\n      console.error('Error submitting form:', error);\n      setLoadingError('Failed to generate your itinerary. Please check your connection and try again.');\n      setErrors({\n        submit: 'Failed to generate your itinerary. Please check your connection and try again.'\n      });\n    }\n  };\n\n  const handleReset = () => {\n    setFormData({\n      destination: '',\n      budget: '',\n      startDate: null,\n      endDate: null,\n      interests: []\n    });\n    setErrors({});\n  };\n\n  const handleRetry = () => {\n    setLoadingError(null);\n    handleSubmit(new Event('submit') as any);\n  };\n\n  return (\n    <div className=\"trip-planner-form\">\n      {isLoading && (\n        <ComprehensiveLoader\n          isLoading={isLoading}\n          stages={[...COMPREHENSIVE_LOADING_STAGES.ITINERARY_GENERATION]}\n          progress={progress}\n          error={loadingError || undefined}\n          onRetry={handleRetry}\n          overlay={true}\n          size=\"lg\"\n          showProgress={true}\n          showStageIndicators={true}\n          theme=\"travel\"\n        />\n      )}\n      \n      <div className=\"form-header\">\n        <h1>Plan Your Perfect Trip</h1>\n        <p>Tell us about your travel preferences and we'll create a personalized itinerary just for you.</p>\n      </div>\n\n      {errors.submit && (\n        <div className=\"error-message submit-error\">\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\n          {errors.submit}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"form-container\">\n        <DestinationDropdown\n          value={formData.destination}\n          onChange={(value) => setFormData(prev => ({ ...prev, destination: value }))}\n          error={errors.destination}\n        />\n\n        <BudgetSelector\n          value={formData.budget}\n          onChange={(value) => setFormData(prev => ({ ...prev, budget: value }))}\n          error={errors.budget}\n        />\n\n        <DateRangePicker\n          startDate={formData.startDate}\n          endDate={formData.endDate}\n          onStartDateChange={(date) => setFormData(prev => ({ ...prev, startDate: date }))}\n          onEndDateChange={(date) => setFormData(prev => ({ ...prev, endDate: date }))}\n          startDateError={errors.startDate}\n          endDateError={errors.endDate}\n        />\n\n        <InterestSelector\n          value={formData.interests}\n          onChange={(interests) => setFormData(prev => ({ ...prev, interests }))}\n          error={errors.interests}\n        />\n\n        <div className=\"form-actions\">\n          <button\n            type=\"button\"\n            onClick={handleReset}\n            className=\"btn secondary\"\n            disabled={isLoading}\n          >\n            Reset Form\n          </button>\n          <button\n            type=\"submit\"\n            className=\"btn primary\"\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <span className=\"loading-spinner-small\"></span>\n                Generating Itinerary...\n              </>\n            ) : (\n              <>\n                <span>‚úàÔ∏è</span>\n                Create My Itinerary\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default TripPlannerForm;"],"names":["MOCK_DESTINATIONS","id","name","description","imageUrl","vrPreviewUrl","popularityScore","category","highlights","bestTimeToVisit","averageCost","low","medium","luxury","generateDayPlaces","destination","dayIndex","interests","allPlaces","bengaluru","time","paris","tokyo","bali","filter","place","some","interest","includes","slice","map","estimatedTime","generateFoodRecommendations","budget","foodOptions","type","priceRange","options","generateTravelTips","baseTips","destinationTips","specificTips","interestTips","food","culture","nature","adventure","shopping","tips","length","forEach","push","generateMockChatResponse","message","lowerMessage","toLowerCase","response","suggestions","generalResponses","Math","floor","random","success","data","messageId","Date","now","content","timestamp","TRAVEL_INTERESTS","value","label","icon","iconName","BUDGET_LEVELS","EMERGENCY_TYPES","color","SAMPLE_DESTINATIONS","VALIDATION_RULES","DestinationDropdown","onChange","error","isOpen","setIsOpen","useState","searchTerm","setSearchTerm","filteredDestinations","setFilteredDestinations","dropdownRef","useRef","useEffect","filtered","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","selectedDestination","find","dest","jsxs","className","ref","children","jsx","htmlFor","onClick","role","placeholder","e","autoFocus","handleSelect","destinationId","src","alt","BudgetSelector","checked","dateUtils","formatDate","date","toLocaleDateString","year","month","day","formatDateForInput","toISOString","split","getDaysBetween","startDate","endDate","timeDiff","getTime","ceil","isFutureDate","today","setHours","getDateRange","dates","currentDate","setDate","getDate","formatRelativeTime","diffInSeconds","minutes","hours","days","DateRangePicker","onStartDateChange","onEndDateChange","startDateError","endDateError","maxDate","setFullYear","getFullYear","maxDateString","min","max","minDate","getMinEndDate","disabled","InterestSelector","Icon","size","i","handleInterestToggle","ComprehensiveLoader","isLoading","stages","currentStage","progress","onRetry","showProgress","showStageIndicators","overlay","theme","currentStageIndex","setCurrentStageIndex","animationPhase","setAnimationPhase","currentStageData","duration","timer","setTimeout","prev","clearTimeout","getProgressValue","containerClasses","Boolean","join","LoadingSpinner","stage","index","title","style","width","transition","round","LOADING_STAGES","ITINERARY_GENERATION","ITINERARY_STORAGE_KEY","itineraryService","generateItinerary","formData","this","getMockItinerary","tripDuration","d","tripId","itinerary","Array","from","_","dayNumber","places","foodRecommendations","travelTips","estimatedCost","currency","generatedAt","generateMockItinerary","addHotelBooking","hotelBooking","getStoredItinerary","hotels","updateItineraryDaysWithHotel","localStorage","setItem","JSON","stringify","addFlightBooking","flightBooking","flights","updateItineraryDaysWithFlight","stored","getItem","parse","getHotelBookings","getFlightBookings","hotel","isArray","checkInDate","checkIn","toDateString","checkOutDate","checkOut","dayDate","status","dayTime","checkInTime","checkOutTime","flight","departureDate","departure","arrivalDate","arrival","calculateItineraryConfidence","score","TripPlannerForm","navigate","useNavigate","errors","setErrors","measureAsync","useAsyncPerformance","loadingError","startLoading","nextStage","finishLoading","setError","setLoadingError","useStageLoading","setFormData","handleSubmit","async","preventDefault","newErrors","Object","keys","validateForm","completeFormData","Promise","resolve","Error","sessionStorage","submit","COMPREHENSIVE_LOADING_STAGES","Event","onSubmit","Fragment"],"mappings":"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"}